# Data - × ×™×”×•×œ × ×ª×•× ×™× ×•××¡×“ × ×ª×•× ×™×

## ğŸ¯ ××˜×¨×ª ×”×ª×™×§×™×™×”

×ª×™×§×™×™×ª `data/` ××›×™×œ×” ××ª ×›×œ ×”× ×ª×•× ×™× ×©×œ ×”××¢×¨×›×ª - × ×ª×•× ×™× ×’×•×œ××™×™×, × ×ª×•× ×™× ××¢×•×‘×“×™×, ××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™×, ×•××¡×“ × ×ª×•× ×™× SQLite. ×”×ª×™×§×™×™×” ×××•×¨×’× ×ª ×‘×¦×•×¨×” ×”×™×¨×¨×›×™×ª ×œ×¤×™ ×¡×•×’×™ × ×ª×•× ×™× ×•×–×× ×™×.

## ğŸ“Š ×¡×˜×˜×•×¡ × ×ª×•× ×™×

- **× ×ª×•× ×™× ×’×•×œ××™×™×:** âœ… ×–××™× ×™× (Yahoo Finance)
- **× ×ª×•× ×™× ××¢×•×‘×“×™×:** âœ… ×–××™× ×™× (×™×•××™/×©×‘×•×¢×™/×—×•×“×©×™)
- **××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™×:** âœ… ×–××™× ×™×
- **××¡×“ × ×ª×•× ×™×:** âœ… ×¤×¢×™×œ (SQLite)

## ğŸ“ ××‘× ×” ×ª×™×§×™×•×ª

```
data/
â”œâ”€â”€ raw_price_data/           # × ×ª×•× ×™× ×’×•×œ××™×™× ×-Yahoo Finance
â”‚   â”œâ”€â”€ AAPL Stock Price History.csv
â”‚   â”œâ”€â”€ MSFT Stock Price History.csv
â”‚   â””â”€â”€ ...
â”œâ”€â”€ historical_prices/        # × ×ª×•× ×™× ××¢×•×‘×“×™×
â”‚   â”œâ”€â”€ daily/               # × ×ª×•× ×™× ×™×•××™×™×
â”‚   â”‚   â”œâ”€â”€ AAPL.csv
â”‚   â”‚   â”œâ”€â”€ MSFT.csv
â”‚   â”‚   â””â”€â”€ ...
â”‚   â”œâ”€â”€ weekly/              # × ×ª×•× ×™× ×©×‘×•×¢×™×™×
â”‚   â”‚   â”œâ”€â”€ AAPL.csv
â”‚   â”‚   â”œâ”€â”€ MSFT.csv
â”‚   â”‚   â””â”€â”€ ...
â”‚   â””â”€â”€ monthly/             # × ×ª×•× ×™× ×—×•×“×©×™×™×
â”‚       â”œâ”€â”€ AAPL.csv
â”‚       â”œâ”€â”€ MSFT.csv
â”‚       â””â”€â”€ ...
â”œâ”€â”€ technical_indicators/     # ××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™×
â”‚   â”œâ”€â”€ rsi/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ macd/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ bollinger/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ sma/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ ema/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ atr/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ stochastic/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ williams_r/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â”œâ”€â”€ cci/
â”‚   â”‚   â”œâ”€â”€ daily/
â”‚   â”‚   â”œâ”€â”€ weekly/
â”‚   â”‚   â””â”€â”€ monthly/
â”‚   â””â”€â”€ adx/
â”‚       â”œâ”€â”€ daily/
â”‚       â”œâ”€â”€ weekly/
â”‚       â””â”€â”€ monthly/
â”œâ”€â”€ database/                 # ××¡×“ × ×ª×•× ×™× SQLite
â”‚   â””â”€â”€ historical.db
â”œâ”€â”€ metadata/                 # ××˜×-×“××˜×”
â”‚   â””â”€â”€ processed_files.json
â”œâ”€â”€ market_data/              # × ×ª×•× ×™ ×©×•×§ × ×•×¡×¤×™×
â”‚   â”œâ”€â”€ economic_indicators/
â”‚   â”œâ”€â”€ indices/
â”‚   â””â”€â”€ sectors/
â”œâ”€â”€ news_sentiment/           # × ×ª×•× ×™ ×—×“×©×•×ª ×•×¡× ×˜×™×× ×˜
â”‚   â”œâ”€â”€ analyst_ratings/
â”‚   â”œâ”€â”€ financial_news/
â”‚   â””â”€â”€ social_media/
â””â”€â”€ code/                     # ×§×•×“ ×¢×™×‘×•×“ × ×ª×•× ×™×
    â”œâ”€â”€ yfinance_CSV.PY
    â”œâ”€â”€ enhanced_data_processor.py
    â”œâ”€â”€ advanced_indicators_processor.py
    â””â”€â”€ smart_data_processor.py
```

## ğŸ“‹ ×˜×‘×œ×ª ×§×‘×¦×™× ×•×ª×¤×§×™×“×™×

| ×§×•×‘×¥/×ª×™×§×™×™×” | ×ª×¤×§×™×“ | ×ª×œ×•×ª ×¢×™×§×¨×™×ª | ×¡×˜×˜×•×¡ |
|-------------|-------|--------------|--------|
| `raw_price_data/` | × ×ª×•× ×™× ×’×•×œ××™×™× | Yahoo Finance | âœ… ×¤×¢×™×œ |
| `historical_prices/daily/` | × ×ª×•× ×™× ×™×•××™×™× | pandas, sqlite3 | âœ… ×¤×¢×™×œ |
| `historical_prices/weekly/` | × ×ª×•× ×™× ×©×‘×•×¢×™×™× | pandas, sqlite3 | âœ… ×¤×¢×™×œ |
| `historical_prices/monthly/` | × ×ª×•× ×™× ×—×•×“×©×™×™× | pandas, sqlite3 | âœ… ×¤×¢×™×œ |
| `technical_indicators/` | ××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™× | pandas, talib | âœ… ×¤×¢×™×œ |
| `database/historical.db` | ××¡×“ × ×ª×•× ×™× | sqlite3 | âœ… ×¤×¢×™×œ |
| `metadata/processed_files.json` | ××˜×-×“××˜×” | json | âœ… ×¤×¢×™×œ |
| `code/yfinance_CSV.PY` | ×”×•×¨×“×ª × ×ª×•× ×™× | requests, pandas | âœ… ×¤×¢×™×œ |
| `code/enhanced_data_processor.py` | ×¢×™×‘×•×“ × ×ª×•× ×™× | pandas, sqlite3 | âœ… ×¤×¢×™×œ |
| `code/advanced_indicators_processor.py` | ×—×™×©×•×‘ ××™× ×“×™×§×˜×•×¨×™× | pandas, talib | âœ… ×¤×¢×™×œ |
| `code/smart_data_processor.py` | ×¢×™×‘×•×“ ×—×›× | pandas, hashlib | âœ… ×¤×¢×™×œ |

## ğŸš€ ×“×•×’×××•×ª ×©×™××•×©

### ×§×¨×™××ª × ×ª×•× ×™ ××—×™×¨×™×
```python
import pandas as pd
import sqlite3

# ×§×¨×™××” ××§×•×‘×¥ CSV
daily_data = pd.read_csv('data/historical_prices/daily/AAPL.csv')
print(f"Daily data shape: {daily_data.shape}")

# ×§×¨×™××” ×××¡×“ × ×ª×•× ×™×
conn = sqlite3.connect('data/database/historical.db')
query = "SELECT * FROM historical_prices WHERE symbol='AAPL' AND timeframe='daily'"
db_data = pd.read_sql_query(query, conn)
conn.close()
print(f"Database data shape: {db_data.shape}")
```

### ×§×¨×™××ª ××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™×
```python
# ×§×¨×™××ª RSI
rsi_data = pd.read_csv('data/technical_indicators/rsi/daily/AAPL_rsi_14_daily.csv')
print(f"RSI data: {rsi_data.head()}")

# ×§×¨×™××ª MACD
macd_data = pd.read_csv('data/technical_indicators/macd/daily/AAPL_macd_daily.csv')
print(f"MACD data: {macd_data.head()}")

# ×§×¨×™××ª Bollinger Bands
bb_data = pd.read_csv('data/technical_indicators/bollinger/daily/AAPL_bollinger_daily.csv')
print(f"Bollinger data: {bb_data.head()}")
```

### ×¢×™×‘×•×“ × ×ª×•× ×™× ×—×“×©×™×
```python
# ×”×•×¨×“×ª × ×ª×•× ×™× ×—×“×©×™×
from data.code.yfinance_CSV import download_stock_data

symbols = ['AAPL', 'MSFT', 'GOOGL']
download_stock_data(symbols, start_date='2020-01-01', end_date='2024-12-31')

# ×¢×™×‘×•×“ × ×ª×•× ×™×
from data.code.enhanced_data_processor import EnhancedDataProcessor

processor = EnhancedDataProcessor()
processor.process_all_files()

# ×—×™×©×•×‘ ××™× ×“×™×§×˜×•×¨×™×
from data.code.advanced_indicators_processor import AdvancedIndicatorsProcessor

indicator_processor = AdvancedIndicatorsProcessor()
indicator_processor.process_all_files()
```

### × ×™×”×•×œ ××˜×-×“××˜×”
```python
import json

# ×§×¨×™××ª ××˜×-×“××˜×”
with open('data/metadata/processed_files.json', 'r') as f:
    metadata = json.load(f)

print(f"Processed files: {len(metadata)}")

# ×”×•×¡×¤×ª ×§×•×‘×¥ ×—×“×©
metadata['new_file.csv'] = {
    'processed_date': '2024-01-27',
    'rows': 1000,
    'indicators': ['RSI', 'MACD', 'Bollinger']
}

with open('data/metadata/processed_files.json', 'w') as f:
    json.dump(metadata, f, indent=2)
```

## ğŸ”§ ×¤×§×•×“×•×ª ×”×¤×¢×œ×”

### ×”×•×¨×“×ª × ×ª×•× ×™×
```bash
# ×”×•×¨×“×ª × ×ª×•× ×™× ×-Yahoo Finance
python scripts/yfinance_CSV.PY

# ×”×•×¨×“×ª ×× ×™×•×ª ×¡×¤×¦×™×¤×™×•×ª
python -c "from data.code.yfinance_CSV import download_stock_data; download_stock_data(['AAPL', 'MSFT'])"
```

### ×¢×™×‘×•×“ × ×ª×•× ×™×
```bash
# ×¢×™×‘×•×“ ×›×œ ×”×§×‘×¦×™×
python scripts/enhanced_data_processor.py

# ×¢×™×‘×•×“ ××™× ×“×™×§×˜×•×¨×™×
python scripts/advanced_indicators_processor.py

# ×¢×™×‘×•×“ ×—×›×
python scripts/smart_data_processor.py
```

### ×‘×“×™×§×ª × ×ª×•× ×™×
```bash
# ×‘×“×™×§×ª ×§×‘×¦×™× ×–××™× ×™×
ls data/historical_prices/daily/ | wc -l

# ×‘×“×™×§×ª ××™× ×“×™×§×˜×•×¨×™×
ls data/technical_indicators/rsi/daily/ | wc -l

# ×‘×“×™×§×ª ××¡×“ × ×ª×•× ×™×
sqlite3 data/database/historical.db "SELECT COUNT(*) FROM historical_prices;"
```

## ğŸ“Š ××™× ×“×™×§×˜×•×¨×™× ×˜×›× ×™×™× × ×ª××›×™×

### ××™× ×“×™×§×˜×•×¨×™ ××’××”
- **SMA (Simple Moving Average)** - 20, 50, 200 ×ª×§×•×¤×•×ª
- **EMA (Exponential Moving Average)** - 20, 50, 200 ×ª×§×•×¤×•×ª
- **MACD** - 12, 26, 9 ×ª×§×•×¤×•×ª
- **VWAP** - Volume Weighted Average Price

### ××™× ×“×™×§×˜×•×¨×™ ××•×× ×˜×•×
- **RSI (Relative Strength Index)** - 14 ×ª×§×•×¤×•×ª
- **Stochastic %K, %D** - 14, 3 ×ª×§×•×¤×•×ª
- **Williams %R** - 14 ×ª×§×•×¤×•×ª
- **CCI (Commodity Channel Index)** - 20 ×ª×§×•×¤×•×ª

### ××™× ×“×™×§×˜×•×¨×™ ×ª× ×•×“×ª×™×•×ª
- **ATR (Average True Range)** - 14 ×ª×§×•×¤×•×ª
- **Bollinger Bands** - 20 ×ª×§×•×¤×•×ª, 2 ×¡×˜×™×•×ª ×ª×§×Ÿ

### ××™× ×“×™×§×˜×•×¨×™ × ×¤×—
- **Volume** - × ×¤×— ××¡×—×¨
- **Volume SMA** - ×××•×¦×¢ × ×¤×—

## ğŸ”„ ×–×¨×™××ª × ×ª×•× ×™×

### 1. ××™×¡×•×£ × ×ª×•× ×™× ×’×•×œ××™×™×
```
Yahoo Finance â†’ raw_price_data/ â†’ CSV files
```

### 2. ×¢×™×‘×•×“ × ×ª×•× ×™×
```
raw_price_data/ â†’ enhanced_data_processor.py â†’ historical_prices/
```

### 3. ×—×™×©×•×‘ ××™× ×“×™×§×˜×•×¨×™×
```
historical_prices/ â†’ advanced_indicators_processor.py â†’ technical_indicators/
```

### 4. ×©××™×¨×” ×œ××¡×“ × ×ª×•× ×™×
```
historical_prices/ + technical_indicators/ â†’ SQLite database
```

## ğŸ“ˆ ×¡×˜×˜×™×¡×˜×™×§×•×ª × ×ª×•× ×™×

### × ×ª×•× ×™× ×–××™× ×™×
- **×× ×™×•×ª:** 100+ ×× ×™×•×ª
- **×ª×§×•×¤×”:** 2020-2024 (5 ×©× ×™×)
- **×ª×“×™×¨×•×ª:** ×™×•××™, ×©×‘×•×¢×™, ×—×•×“×©×™
- **×©×•×¨×•×ª × ×ª×•× ×™×:** 1,000,000+ ×©×•×¨×•×ª

### ××™× ×“×™×§×˜×•×¨×™× ××—×•×©×‘×™×
- **×¡×•×’×™ ××™× ×“×™×§×˜×•×¨×™×:** 10
- **×ª×“×™×¨×•×™×•×ª:** 3 (×™×•××™/×©×‘×•×¢×™/×—×•×“×©×™)
- **×§×‘×¦×™×:** 300+ ×§×‘×¦×™ ××™× ×“×™×§×˜×•×¨×™×

### ×‘×™×¦×•×¢×™×
- **×–××Ÿ ×¢×™×‘×•×“ ×× ×™×”:** 2-5 ×©× ×™×•×ª
- **×–××Ÿ ×—×™×©×•×‘ ××™× ×“×™×§×˜×•×¨×™×:** 1-3 ×©× ×™×•×ª
- **×’×•×“×œ ××¡×“ × ×ª×•× ×™×:** 50MB+

## âš ï¸ ×‘×¢×™×•×ª ×™×“×•×¢×•×ª

### ×‘×¢×™×•×ª × ×ª×•× ×™×
1. **Yahoo Finance 429** - Too Many Requests
   - **×¤×ª×¨×•×Ÿ:** Rate limiting, caching
   - **×¡×˜×˜×•×¡:** âš ï¸ ×™×“×•×¢

2. **×§×‘×¦×™× ×¨×™×§×™×** - × ×ª×•× ×™× ×œ× ××œ××™×
   - **×¤×ª×¨×•×Ÿ:** Re-processing, validation
   - **×¡×˜×˜×•×¡:** âœ… × ×¤×ª×¨

3. **××™× ×“×™×§×˜×•×¨×™× ×—×¡×¨×™×** - Williams %R
   - **×¤×ª×¨×•×Ÿ:** Manual calculation
   - **×¡×˜×˜×•×¡:** âš ï¸ ×™×“×•×¢

### ×¤×ª×¨×•× ×•×ª ××•×¦×¢×™×
- Validation ×©×œ × ×ª×•× ×™×
- Error handling ××©×•×¤×¨
- Fallback sources
- Data quality checks

## ğŸ”§ ×ª×—×–×•×§×”

### × ×™×§×•×™ × ×ª×•× ×™×
```python
# × ×™×§×•×™ ×§×‘×¦×™× ×¨×™×§×™×
import os
import pandas as pd

for file in os.listdir('data/historical_prices/daily/'):
    file_path = f'data/historical_prices/daily/{file}'
    df = pd.read_csv(file_path)
    if len(df) < 100:  # ×¤×—×•×ª ×-100 ×©×•×¨×•×ª
        os.remove(file_path)
        print(f"Removed {file}")
```

### ×’×™×‘×•×™ × ×ª×•× ×™×
```python
import shutil
import datetime

# ×’×™×‘×•×™ ×™×•××™
backup_dir = f"backup_{datetime.date.today()}"
shutil.copytree('data', backup_dir)
print(f"Backup created: {backup_dir}")
```

### ×¢×“×›×•×Ÿ ××˜×-×“××˜×”
```python
import json
import os

# ×¢×“×›×•×Ÿ ××˜×-×“××˜×”
metadata = {}
for file in os.listdir('data/historical_prices/daily/'):
    file_path = f'data/historical_prices/daily/{file}'
    df = pd.read_csv(file_path)
    metadata[file] = {
        'rows': len(df),
        'last_updated': datetime.datetime.now().isoformat()
    }

with open('data/metadata/processed_files.json', 'w') as f:
    json.dump(metadata, f, indent=2)
```

## ğŸ“‹ ×¨×©×™××ª ×‘×“×™×§×”

### ×‘×“×™×§×•×ª ×™×•××™×•×ª
- [ ] ×‘×“×™×§×ª ×–××™× ×•×ª × ×ª×•× ×™× ×—×“×©×™×
- [ ] ×‘×“×™×§×ª ××™×›×•×ª × ×ª×•× ×™×
- [ ] ×‘×“×™×§×ª ××™× ×“×™×§×˜×•×¨×™×
- [ ] ×’×™×‘×•×™ × ×ª×•× ×™×

### ×‘×“×™×§×•×ª ×©×‘×•×¢×™×•×ª
- [ ] × ×™×§×•×™ ×§×‘×¦×™× ×™×©× ×™×
- [ ] ×¢×“×›×•×Ÿ ××˜×-×“××˜×”
- [ ] ×‘×“×™×§×ª ×‘×™×¦×•×¢×™×
- [ ] ××•×¤×˜×™××™×–×¦×™×” ××¡×“ × ×ª×•× ×™×

---

**×”×¢×¨×”:** × ×ª×•× ×™× ×”× ×”×‘×¡×™×¡ ×œ×›×œ ×”× ×™×ª×•×—×™×. ×™×© ×œ×•×•×“× ××™×›×•×ª ×•×¢×“×›× ×™×•×ª ×”× ×ª×•× ×™× ×œ×¤× ×™ ×”×¨×¦×ª ×¡×•×›× ×™×.