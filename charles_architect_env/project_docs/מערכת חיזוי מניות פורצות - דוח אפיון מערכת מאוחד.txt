  ‫מערכת חיזוי מניות פורצות – דו״ח אפיון מערכת מאוחד‬
‫רקע‪ :‬מערכת זו נועדה לזהות מניות העומדות לפני זינוק חד במיוחד (מאות אחוזים ואף יותר) עוד לפני התרחשות‬
‫המהלך ‪ . 2 1‬הגישה מבוססת על ארכיטקטורת רב‪-‬סוכנים (‪ : )Multi-Agent‬מספר סוכני ניתוח מומחים פועלים‬
‫במקביל – כל אחד מתמקד בזווית אחרת (טכני‪ ,‬פונדמנטלי‪ ,‬חדשות‪ ,‬סנטימנט‪ ,‬נגזרים) – ומפיק אותות מקדימים בתחום‬
‫שלו ‪ . 4 3‬לבסוף‪ ,‬סוכן איחוד מרכזי מקבל את כל הציונים ומשקלל אותם להחלטה סופית אחידה ‪ . 6 5‬רק‬
‫כאשר מתקבלים סימנים חיוביים ממגוון תחומים – טכני וגם חדשותי‪ ,‬וגם פונדמנטלי וכו’ – המערכת תדרג את המניה‬
‫כמועמדת חזקה לזינוק‪ ,‬ובכך תמנע התרעות שווא המבוססות על גורם יחיד ‪ . 7 6‬גישה משולבת זו הוכחה כנחוצה‪:‬‬
‫בניתוח מקרי עבר של “סופר‪-‬מניות” נמצא שתמיד הופיע שילוב של טריגרים – כגון איתותים טכניים (פריצה גרפית‪ ,‬נפחי‬
‫מסחר גבוהים)‪ ,‬יחד עם חדשות משמעותיות או שיפור עסקי‪ ,‬יחד עם באזז ברשת – עוד לפני זינוקים של מאות אחוזים‬
‫‪ . 9 8‬להלן פירוט מלא של רכיבי המערכת‪ ,‬אופן פעולתה‪ ,‬מודל חוות הנתונים‪ ,‬ותרשים זרימה כללי‪ ,‬וכן תיאור‬
                                                                         ‫המערכת המוגמרת (‪ ,UI‬קוד ותפעול)‪.‬‬


                                       ‫‪ .1‬תיאור רכיבי המערכת (סוכנים וקבצים מרכזיים)‬
‫המערכת בנויה באופן מודולרי ממספר סוכנים (‪ )Agents‬ומרכיבים תומכים‪ ,‬שכל אחד מהם אחראי על חלק מתהליך‬
          ‫החיזוי‪ .‬הטבלה הבאה מסכמת את תפקיד כל רכיב‪ ,‬מקורות הנתונים שלו‪ ,‬והפלט שהוא מניב ומה נעשה בו‪:‬‬


                                                                                ‫תפקיד ופעולות‬
                        ‫פלט (פורמט ויעד)‬      ‫מקורות‪/‬קלט נתונים‬                                            ‫רכיב‬
                                                                                      ‫עיקריות‬

                                                                                ‫סריקת כל המניות‬
                                                                            ‫ביקום והוצאת רשימה‬
                                                                         ‫מצומצמת של מועמדות‪.‬‬
                                                                         ‫מבצע סינון דו‪-‬שלבי‪)1( :‬‬
                                               ‫נתוני שוק בזמן אמת‬
                                                                         ‫מסנן החוצה מניות שלא‬
                                                   ‫עבור כלל המניות‪:‬‬
                                                                              ‫עומדות בקריטריונים‬
                                                    ‫מחיר נוכחי‪ ,‬נפחי‬
                                                                           ‫כמותיים בסיסיים (שווי‬
                                                     ‫מסחר‪ ,‬תנודתיות‬
                                                                        ‫שוק מינימלי‪ ,‬נפח מסחר‬
                                                    ‫היסטורית‪ ,‬שיעור‬
                                                                          ‫יומי מינימום‪ ,‬וכו’) ‪; 10‬‬
                                                        ‫שורט‪ ,‬נתונים‬
        ‫רשימת מניות מועמדות (‪)Symbols‬‬                                         ‫(‪ )2‬מאתר אנומליות‬
                                                   ‫פיננסיים בסיסיים‬
         ‫שעברו את הסינון‪ .‬הפלט הוא בינארי‬                                    ‫מחשידות בהתנהגות‬
                                                  ‫(שווי שוק‪ ,‬רווחיות)‬                                ‫סוכן סינון‬
  ‫בעיקרו – כל מניה מסומנת “מעבר‪/‬דחייה”‪.‬‬                                    ‫האחרונות של המניה –‬
                                                       ‫וכו’ ‪ . 14‬מקור‬                                   ‫ראשוני‬
        ‫רק מניות שעוברות את הסף נשלחות‬                                  ‫למשל פריצת מחיר לשיא‬
                                                ‫אפשרי‪ :‬קריאות ‪API‬‬                                        ‫(‪Wide‬‬
     ‫להמשך ניתוח‪ .‬ייתכן ציון אנומליות נומרי‬                                    ‫חדש‪ ,‬קפיצה חריגה‬
                                                 ‫ל‪,Yahoo Finance-‬‬                                        ‫‪)Filter‬‬
      ‫לכל מניה כמידע עזר‪ .‬הפלט מוזן כקלט‬                                      ‫בנפח או בתנודתיות‪,‬‬
                                                ‫‪ Alpha Vantage‬או‬
    ‫לכל סוכני הניתוח המתקדמים במקביל‪.‬‬                                             ‫שיעור שורט גבוה‬
                                                      ‫‪ Finnhub‬עבור‬
                                                                            ‫במיוחד‪ ,‬וכו’ ‪. 12 11‬‬
                                              ‫מחירים ונפחים; נתוני‬
                                                                          ‫מניות שעוברות לפחות‬
                                              ‫פיננסים מאתרי מידע‬
                                                                              ‫תנאי חריג משמעותי‬
                                                      ‫(כגון ‪Financial‬‬
                                                                             ‫אחד “יזכו באור ירוק”‬
                                                   ‫‪)Modeling Prep‬‬
                                                                             ‫להמשך ניתוח‪ .‬הסוכן‬
                                                            ‫‪. 15 14‬‬
                                                                              ‫יכול להקצות גם ציון‬
                                                                           ‫חריגות יחסי לכל מניה‬
                                                                        ‫כדי לדרג עדיפות לבדיקה‬
                                                                                      ‫בהמשך ‪. 13‬‬




                                                        ‫‪1‬‬
                                                                              ‫תפקיד ופעולות‬
                    ‫פלט (פורמט ויעד)‬     ‫מקורות‪/‬קלט נתונים‬                                                ‫רכיב‬
                                                                                    ‫עיקריות‬

                                                                             ‫ניתוח טכני מעמיק‬
                                                                             ‫למניות המועמדות‪.‬‬
                                                                             ‫הסוכן בוחן את גרף‬
                                                                         ‫המחיר ונפחי המסחר‬
                                                                             ‫כדי לאתר איתותים‬
                                                                               ‫טכניים מקדימים‬
                                                                          ‫חיוביים המעידים על‬
                                                                     ‫מומנטום מתגבר או שינוי‬
                                                                      ‫מגמה לפני פריצה גדולה‬
                                                                     ‫‪ . 16‬הוא מורכב למעשה‬
                                                                         ‫ממספר תתי‪-‬מודולים‬
                                             ‫נתוני מחיר והיקף‬         ‫טכניים הבוחנים היבטים‬
                                              ‫מסחר היסטוריים‬            ‫שונים‪ :‬מומנטום ומגמה‬
                                           ‫של המניה‪ :‬גרף יומי‪,‬‬       ‫(חישוב אינדיקטורים כמו‬
                                                   ‫שבועי‪ ,‬חודשי‬     ‫‪ ADX‬למדידת חוזק מגמה‬
  ‫ציון טכני מספרי לכל מניה (סקאלה ‪–0‬‬              ‫(לניתוח ‪-multi‬‬         ‫‪ RSI , 17‬גבוה שנותר‬
   ‫‪ )100‬המבטא עד כמה התרשים מראה‬              ‫‪; 26 )timeframe‬‬               ‫יציב ‪ , 18‬וכו’)‪ ,‬זיהוי‬
             ‫סימני פריצה‪ .‬בנוסף מספק‬               ‫נגזרות טכניות‬        ‫תבניות פריצה (למשל‬
‫דגלים‪/‬איתותים בולטים שהתגלו (למשל‪:‬‬         ‫מחושבות (ממוצעים‬                  ‫תבניות שוריות כמו‬
 ‫“‪ Golden Cross‬זוהה”‪“ ,‬נפח גבוה ‪300%‬‬         ‫נעים‪,MACD, RSI ,‬‬       ‫‪ ,Cup&Handle‬דגל שורי‪,‬‬            ‫סוכן ניתוח‬
      ‫מהממוצע” וכו’)‪ .‬הציון והאיתותים‬    ‫בולינגר וכו’)‪ .‬נמשכים‬              ‫משולש מתכנס ‪, 19‬‬               ‫טכני‬
 ‫נשלחים לסוכן הקונסולידציה‪ .‬מניה עם‬         ‫מ‪ API-‬שוק (‪Yahoo‬‬          ‫איתות “‪”Golden Cross‬‬
     ‫ציון טכני מעל סף מוגדר (נניח >‪)70‬‬          ‫‪Finance, Alpha‬‬           ‫– ממוצע ‪ 50‬יום חוצה‬
       ‫תיחשב “מועמדת טכנית מבטיחה”‬           ‫‪Vantage, Twelve‬‬                       ‫מעל ‪, 20 200‬‬
                          ‫להמלצה ‪. 28‬‬          ‫‪ Data‬וכו’)‪ .‬כמו כן‬         ‫התכווצות תנודתיות‬
                                            ‫שיעור שורט עדכני‬          ‫לפני פריצה – ‪Bollinger‬‬
                                          ‫(ימים לכיסוי) לשילוב‬         ‫‪ / Squeeze‬תבנית ‪VCP‬‬
                                         ‫מבט סנטימנטלי‪-‬טכני‬           ‫‪ ,) 22 21‬ניתוח נפחים‬
                                                             ‫‪. 27‬‬              ‫(נרות נפח חריגים‬
                                                                      ‫המעידים על “כסף חכם”‬
                                                                        ‫נכנס – נפח גבוה בליווי‬
                                                                       ‫פריצת מחיר ‪ ) 23‬ועוד‪.‬‬
                                                                             ‫הסוכן משלב כללים‬
                                                                       ‫טכניים מוגדרים יחד עם‬
                                                                       ‫מודלי ‪ ML‬לזהוי דפוסים‬
                                                                             ‫חבויים אם יש (ניתן‬
                                                                          ‫למשל לאמן מודל על‬
                                                                          ‫שילוב פיצ’רים טכניים‬
                                                                          ‫שיזהה מראש תבניות‬
                                                                                ‫פריצה) ‪. 25 24‬‬




                                                    ‫‪2‬‬
                                                                               ‫תפקיד ופעולות‬
                     ‫פלט (פורמט ויעד)‬      ‫מקורות‪/‬קלט נתונים‬                                             ‫רכיב‬
                                                                                     ‫עיקריות‬

                                                                        ‫ניתוח יסודות החברה‬
                                                                           ‫למניות המועמדות‪.‬‬
                                                                      ‫מעריך את מצבה העסקי‬
                                                                     ‫והפיננסי של החברה כדי‬
                                                                          ‫לזהות שיפור מהותי‬
                                                                       ‫בביצועים או ערך בלתי‬
                                                                         ‫ממומש‪ .‬הסוכן בודק‪:‬‬
                                                                     ‫צמיחת רווחים והכנסות‬
                                                                     ‫מואצת (למשל עלייה של‬
                                                                     ‫‪ +20%‬ברווח רבעוני ‪YOY‬‬
                                                                              ‫– מאפיין שנצפה‬
                                                  ‫נתונים פיננסיים‬           ‫ב‪ 95%☑-‬מהמניות‬
                                                     ‫היסטוריים של‬          ‫שזינקו היסטורית‬
                                                                          ‫‪29‬‬

                                                     ‫החברה‪ :‬דוחות‬        ‫‪ ; 30‬צמיחה שנתית‬
                                                  ‫כספיים (הכנסות‪,‬‬    ‫ממוצעת גבוהה בתקופה‬
                                             ‫רווח למניה‪ ,‬צמיחה‪,‬‬       ‫שקדמה לזינוק)‪ ,‬מעבר‬
‫ציון פונדמנטלי מספרי לכל מניה (סקאלה‬           ‫‪ ,ROE‬חוב)‪ ,‬מכפילי‬        ‫מהפסד לרווח (חברה‬
  ‫מותאמת‪ ,‬נניח ‪ )100–0‬המשקף עד כמה‬         ‫שווי (‪ P/E, P/S‬לעומת‬            ‫שהופכת לרווחית‬
  ‫החברה מציגה בסיס עסקי חזק ותנופה‬               ‫ענף)‪ ,‬נתוני איכות‬     ‫לראשונה – כמו טסלה‬
    ‫חיובית‪ .‬למשל ניקוד משוקלל של ‪50%‬‬                  ‫עסקית (יתרון‬   ‫ב‪ – 2019-‬זה סימן מפנה‬
    ‫צמיחה‪/‬הכאת תחזיות‪ 30% ,‬ערך יחסי‪,‬‬             ‫תחרותי‪ ,‬פטנטים‪,‬‬     ‫חיובי ‪ ,) 32 31‬חדשנות‬
   ‫‪ 20%‬איכות וחדשנות ‪ . 38‬בנוסף הסוכן‬               ‫הנהלה חדשה)‪.‬‬      ‫או מוצר חדש פורץ דרך‬
                                                                                                    ‫סוכן ניתוח‬
    ‫מספק תרשים נתונים תמציתי (למשל‪:‬‬             ‫נמשכים דרך ספק‬                      ‫(‪Nearly 95%‬‬
                                                                                                    ‫פונדמנטלי‬
       ‫“‪ ,EPS +30% YoY‬הכנסות שיא‪ ,‬חוב‬           ‫הנתונים ממקורות‬            ‫מהסופר‪-‬מניות הציגו‬
‫בירידה”)‪ .‬הציון והתרשים נשלחים לסוכן‬       ‫כמו ‪,Yahoo Finance‬‬                  ‫“משהו חדש” לפני‬
       ‫הקונסולידציה‪ .‬ציון פונדמנטלי גבוה‬         ‫‪Finnhub, Alpha‬‬               ‫הפריצה – מוצר או‬
  ‫יתרום להחלטת “‪ ”Buy‬אלא אם יש סימן‬          ‫‪ Vantage‬או ‪Edgar‬‬                ‫טכנולוגיה משבשת‪,‬‬
    ‫שלילי גדול (אם למשל יש חדשות רעות‬         ‫(לדיווחים רשמיים)‪.‬‬          ‫הנהלה חדשה‪ ,‬חדירה‬
 ‫חריגות‪ ,‬ייתכן שיפסלו למרות בסיס טוב)‪.‬‬           ‫ייתכן גם מידע על‬    ‫לשוק חדש וכו’ ‪,) 34 33‬‬
                                             ‫המלצות אנליסטים‬             ‫שיפור איכות פיננסית‬
                                           ‫ותחזיות (שינויי דירוג‪,‬‬               ‫(שולי רווח עולים‪,‬‬
                                                ‫מחיר יעד) לשילוב‬      ‫הפחתת חוב)‪ ,‬ויחסי ערך‬
                                                ‫כחלק מהסנטימנט‬           ‫אטרקטיביים (מכפילים‬
                                                       ‫המוסדי ‪. 37‬‬     ‫נמוכים יחסית לצמיחה)‪.‬‬
                                                                            ‫אם קיימת אנליזה‬
                                                                         ‫כמותית‪ – ML/‬הסוכן‬
                                                                           ‫יכול לשקלל עשרות‬
                                                                            ‫פקטורים פיננסיים‬
                                                                     ‫(צמיחה‪ ,‬רווחיות‪ ,‬מכפיל‪,‬‬
                                                                            ‫יתרון תחרותי וכו’)‬
                                                                       ‫באמצעות מודל (למשל‬
                                                                            ‫‪ )XGBoost‬המנבא‬
                                                                            ‫הסתברות שהמניה‬
                                                                      ‫“זולה” ביחס לפוטנציאל‬
                                                                              ‫העתידי ‪. 36 35‬‬




                                                     ‫‪3‬‬
                                                                     ‫מעקב חדשות ועדכונים‬
                                                                           ‫מהותיים על החברות‬
                                                                          ‫המועמדות‪ ,‬כדי לוודא‬
                                                                                  ‫שאין “אירוע גדול‬
                                                                              ‫מתבשל” שלא נלקח‬
                                                                             ‫בחשבון‪ .‬הסוכן סורק‬
                                                                                    ‫כותרות ידיעות‬
                                                                            ‫פיננסיות בזמן אמת‪:‬‬
                                                                           ‫דיווחי דוחות‪ ,‬הודעות‬
                                                                                    ‫חברה‪ ,‬אירועים‬
                                                                                 ‫רגולטוריים‪ ,‬חוזים‬
                                                                              ‫משמעותיים‪,M&A ,‬‬
                                                                         ‫אישורי ‪( FDA‬בביוטק)‪,‬‬
                                                                     ‫וכד’ ‪ . 40 39‬הוא מאתר‬
                                            ‫עדכוני חדשות בזמן‬
                                                                      ‫מילות מפתח מחשידות‬
                                                  ‫אמת ממקורות‬
                                                                                 ‫(“מיזוג”‪“ ,‬רכישה”‪,‬‬
                                           ‫פיננסיים‪ API :‬חדשות‬
                                                                         ‫“הכנסות שיא”‪“ ,‬אישור‬
                                           ‫(כמו ‪AlphaVantage‬‬
                                                                     ‫‪ ”FDA‬וכו’) המצביעות על‬
                                               ‫‪News, Finnhub‬‬
   ‫ציון חדשות לכל מניה‪ ,‬למשל בין –‪100‬‬                                       ‫אירוע משמעותי ‪. 40‬‬
                                              ‫‪ ,)news‬הזנות ‪RSS‬‬
 ‫ל‪ ,100+‬המשלב את הטון (סנטימנט) ואת‬                                  ‫בנוסף מבצע ניתוח ‪NLP‬‬
                                           ‫של ‪/Yahoo Finance‬‬
  ‫עוצמת וכמות האירועים‪ :‬מספר אירועים‬                                    ‫לסנטימנט החדשותי –‬
                                             ‫‪ Google News‬לפי‬
  ‫חיוביים מול שליליים ב‪ X-‬ימים‪ ,‬חשיבות‬                                        ‫למשל מסכם טקסט‬
                                             ‫טיקר‪ ,‬אתרי חדשות‬
‫האירועים (דיווח שולי ‪ .vs‬חוזה ענק) ואופי‬                                   ‫כתבה ובודק את הטון‬
                                                ‫כלכליים (‪Yahoo‬‬
 ‫הטון ‪ . 48 44‬בנוסף הפלט כולל רשימת‬                                   ‫(חיובי‪/‬שלילי) באמצעות‬
                                                        ‫‪,Finance‬‬
    ‫אירועים מרכזיים וציונם (לדוגמה‪✔“ :‬‬                                 ‫מודל שפה (כמו ‪ GPT‬או‬
                                            ‫‪Bloomberg, CNBC‬‬                                           ‫סוכן חדשות‬
 ‫חוזה צבאי ‪ – $480M‬חדשות חיוביות”‪“ ,‬‬                                      ‫מודל ייעודי) ‪. 42 41‬‬
                                                    ‫וכו’)‪ ,‬דיווחים‬                                      ‫(אירועים)‬
        ‫אזהרת רווח – שלילי”) ‪ . 49‬הציון‬                                    ‫בצורה זו אפשר להבין‬
                                           ‫רגולטוריים (טפסי ‪-8‬‬
              ‫והאירועים נשלחים לסוכן‬                                              ‫האם רצף ידיעות‬
                                             ‫‪K/Press Releases‬‬
 ‫הקונסולידציה‪ .‬אם ציון החדשות שלילי‬                                            ‫אחרונות הוא חיובי‬
                                                 ‫דרך ‪ .)SEC‬ייתכן‬
    ‫באופן מובהק (למשל אזכור מילים כמו‬                                        ‫(דוחות טובים‪ ,‬חוזים‬
                                                 ‫שימוש בשירותי‬
  ‫“‪“/”Fraud‬הונאה” בכותרות) – המערכת‬                                               ‫חדשים) או שלילי‬
                                                    ‫ניתוח חדשות‬
     ‫עשויה לפסול את המניה לחלוטין כדי‬                                     ‫(אזהרת רווח‪ ,‬חקירה)‪.‬‬
                                                  ‫מתקדמים (כמו‬
       ‫להימנע מ"מלכודת ערך" ‪. 45 44‬‬                                          ‫הסוכן גם מודד באזז‬
                                            ‫‪ )RavenPack‬במידת‬
                                                                        ‫תקשורתי‪ :‬כמה כתבות‬
                                             ‫הצורך ‪ . 47 46‬כל‬
                                                                                  ‫יוצאות על המניה‬
                                             ‫החדשות האחרונות‬
                                                                             ‫לאחרונה‪ ,‬והאם היא‬
                                           ‫לגבי כל מניה נשמרות‬
                                                                        ‫מופיעה בכותרות אתרי‬
                                                          ‫לעיבוד‪.‬‬
                                                                      ‫חדשות גדולים (“מניית ‪X‬‬
                                                                         ‫זינקה – למה?”) – סימן‬
                                                                     ‫שהיא על הרדאר הציבורי‬
                                                                        ‫‪ . 43‬מטרת הסוכן היא‬
                                                                             ‫להעניק ציון חדשות‬
                                                                            ‫גבוה למניה עם כיסוי‬
                                                                                      ‫חדשות חיובי‬
                                                                                       ‫וקטליזטורים‬
                                                                            ‫משמעותיים‪ ,‬ולהוריד‬
                                                                             ‫ניקוד אם יש חדשות‬
                                                                                  ‫שליליות קריטיות‬
                                                                               ‫שעלולות לבטל את‬
                                                                             ‫ההשפעות החיוביות‬
                                                                                ‫מאחרים ‪. 45 44‬‬




                                                     ‫‪4‬‬
                                                                                 ‫תפקיד ופעולות‬
                       ‫פלט (פורמט ויעד)‬      ‫מקורות‪/‬קלט נתונים‬                                              ‫רכיב‬
                                                                                       ‫עיקריות‬

                                                                         ‫מדידת באזז והתלהבות‬
                                                                         ‫המשקיעים ברשת סביב‬
                                                                            ‫המניה‪ .‬סוכן זה מתפקד‬
                                                                                   ‫כ"סייסמוגרף" של‬
                                                                            ‫משקיעי הריטייל – הוא‬
                                                                          ‫עוקב אחר נפח ועוצמת‬
                                                                                ‫השיחה על כל מניה‬
                                                                              ‫ברשתות כמו ‪Reddit‬‬
                                                       ‫‪ API‬לרשתות‬
                                                                                     ‫(פורומים דוגמת‬
                                                    ‫חברתיות‪ :‬גישה‬
                                                                                  ‫‪,)WallStreetBets‬‬
                                             ‫ישירה ל‪( Reddit-‬דרך‬
                                                                             ‫‪,Twitter, StockTwits‬‬
                                              ‫‪ PRAW‬או ‪Pushshift‬‬
                                                                                    ‫‪ ,Discord‬טלגרם‬
                                                     ‫לקבלת פוסטים‬
                                                                                   ‫וקבוצות דיון ‪. 50‬‬
                                                             ‫ותגובות‬
                                                                                      ‫לעיתים קרובות‬
                                                      ‫ב‪subreddits-‬‬
                                                                                ‫התפרצות ויראלית‬
                                                ‫רלוונטיים)‪ API ,‬של‬
                                                                              ‫בהתעניינות מקדימה‬
                                                       ‫‪( Twitter‬דרך‬
‫ציון סנטימנט לכל מניה‪ ,‬למשל בסקאלה –‬                                         ‫מהלך חד (כפי שראינו‬
                                                  ‫‪ )Tweepy‬לחיפוש‬
       ‫‪ 100‬עד ‪ ,100+‬המחושב משקלול של‬                                       ‫ב”מניות מם” כמו ‪,GME‬‬
                                               ‫ציוצים ואזכורים לפי‬
   ‫מספר האזכורים (באזז) מול הרגיל‪ ,‬אחוז‬                                         ‫‪ AMC‬וכו’) ‪. 51 50‬‬
                                              ‫סימול‪ .‬כמו כן שימוש‬
     ‫התוכן החיובי מול שלילי‪ ,‬וקצב השינוי‬                                     ‫הסוכן שולף את כמות‬
                                                     ‫בכלי צד‪-‬שלישי‬
         ‫(טרנד עולה או דועך)‪ .‬לדוגמה‪ :‬מניה‬                                    ‫האזכורים של הטיקר‬
                                               ‫המנטרים את הבאזז‬
      ‫שמוזכרת ‪ 500%‬יותר מבשבוע שעבר‬                                     ‫בפלטפורמות הללו לאורך‬
                                                                ‫(כגון‬                                        ‫סוכן‬
     ‫ברשת‪ ,‬וב‪ 80%-‬מהדיונים הטון חיובי –‬                                      ‫זמן (למשל עלייה פי ‪5‬‬
                                                 ‫‪,SwaggyStocks‬‬                                           ‫סנטימנט‬
       ‫תקבל ציון סנטימנט גבוה במיוחד ‪56‬‬                                 ‫בהיקף הפוסטים היומיים‬
                                                     ‫‪ Whisper‬בוול‬                                      ‫רשת (מדיה‬
‫‪ . 57‬הפלט כולל גם מדד באזז נפרד (נפח‬                                          ‫מהשבוע שעבר) ‪, 52‬‬
                                                        ‫סטריט בית‪,‬‬                                       ‫חברתית)‬
 ‫דיון יחסי) ותקציר תובנות (למשל‪“ :‬דיון ער‬                               ‫בודק מגמת שינוי – האם‬
                                                      ‫‪ AltIndex‬וכד’‬
       ‫ב‪ ,WSB-‬הטון אופטימי באופן חריג”)‪.‬‬                                         ‫יש האצה פתאומית‬
                                                    ‫המספקים דירוג‬
‫הציון נשלח לסוכן הקונסולידציה‪ .‬הערה‪:‬‬                                             ‫בדיון‪ .‬כמו כן מבצע‬
                                                    ‫מניות לפי כמות‬
   ‫ניקוד סנטימנט חיובי יתרום להמלצה רק‬                                       ‫ניתוח סנטימנט מלל‪:‬‬
                                               ‫ופוזיציית האזכורים)‬
      ‫אם יש גיבוי מהתחומים האחרים‪ ,‬כדי‬                                              ‫בודק האם התוכן‬
                                                ‫‪Google . 53 55‬‬
 ‫למנוע אזעקות שווא מבאזז רגעי ‪. 58 56‬‬                                       ‫המדובר חיובי (“‪To the‬‬
                                             ‫‪ Trends‬לחיפושי שם‬
                                                                                   ‫‪“ ,” moon‬קנו את‬
                                              ‫החברה‪/‬טיקר‪ .‬בנוסף‬
                                                                         ‫הנפילות”) או שלילי‪/‬ציני‪.‬‬
                                                      ‫נתוני המלצות‬
                                                                             ‫בנוסף נבדקים מגמות‬
                                                ‫אנליסטים נחשבים‬
                                                                               ‫חיפוש בגוגל על שם‬
                                                 ‫לחלק מהסנטימנט‬
                                                                              ‫החברה‪/‬טיקר – עלייה‬
                                             ‫ה"מתון"‪ :‬שינוי בדירוג‬
                                                                             ‫חדה בחיפושים עשויה‬
                                                  ‫אנליסטים‪ ,‬עדכוני‬
                                                                          ‫לאותת עניין ציבורי חריג‬
                                                       ‫‪Price Target‬‬
                                                                            ‫‪ . 54 53‬גם סנטימנט‬
                                                            ‫וכו’ ‪. 37‬‬
                                                                                ‫מוסדי יכול להיכלל‪:‬‬
                                                                          ‫למשל מעקב אחר שינויי‬
                                                                             ‫המלצות אנליסטים או‬
                                                                             ‫החזקות קרנות (אם כי‬
                                                                                  ‫אלה איטיים יותר)‪.‬‬
                                                                          ‫בסיכום‪ ,‬סוכן הסנטימנט‬
                                                                            ‫מעניק פרספקטיבה על‬
                                                                        ‫“דופק השוק” הלא‪-‬רשמי‪.‬‬




                                                        ‫‪5‬‬
                                                                                  ‫תפקיד ופעולות‬
                       ‫פלט (פורמט ויעד)‬       ‫מקורות‪/‬קלט נתונים‬                                               ‫רכיב‬
                                                                                        ‫עיקריות‬

                                                                            ‫ניתוח פעילות נגזרים‬
                                                                           ‫ושורטים חריגה במניה‪.‬‬
                                                                             ‫סוכן זה מתמקד בשוק‬
                                                                                   ‫הנגזרים (אופציות)‬
                                                                              ‫ובהימורי שורט‪ ,‬מתוך‬
                                                                           ‫הבנה שלעיתים קרובות‬
                                                                         ‫לפני מהלכי פריצה ניכרת‬
                                                                         ‫תזוזה בפעילות אופציות‬
                                                                         ‫או בבניות השורט‪ :‬למשל‬
                                                       ‫נתוני אופציות‬       ‫גידול יוצא דופן בביקוש‬
                                                       ‫ושורט‪ :‬נשלפים‬      ‫לאופציות ‪( CALL‬או יחס‬
                                                 ‫מ‪ API-‬שוק אופציות‬        ‫‪ Put/Call‬נמוך מהרגיל –‬
                                                      ‫(לדוגמה ‪ API‬של‬      ‫יותר אופציות קול מאשר‬
                                                     ‫‪Alpha Vantage‬‬             ‫פוט‪ ,‬מרמז על ציפיות‬
                                              ‫לת_‪ ,chain‬או שימוש‬         ‫לעלייה)‪ ,‬או לחילופין יחס‬
                                                      ‫ב‪Polygon/IEX-‬‬             ‫‪ Put/Call‬גבוה מאוד‬
                                                     ‫למידע אופציות)‪.‬‬           ‫(הרבה פוטים) שעלול‬
      ‫ציון נגזרים‪/‬שורט משולב למניה‪ .‬ניתן‬
                                                 ‫אפשר גם דרך ספקי‬            ‫לאותת על ביטוח יתר‬
  ‫לחשב תת‪-‬ציונים‪ :‬ציון אופציות (עד כמה‬
                                                ‫נתונים ייעודיים (כמו‬         ‫מפני ירידה ויצירת כר‬
 ‫נפח‪/‬עניין פתוח חריגים והאם הכיוון שורי‬
                                                        ‫‪Opyn, Yahoo‬‬       ‫פורה לעלייה אם החשש‬
 ‫– למשל הרבה קולים = חיובי)‪ ,‬וציון שורט‬
                                                 ‫‪.)Finance options‬‬         ‫יתבדה ‪ . 60 59‬כמו כן‬
‫(עד כמה שיעור השורט קיצוני ואם חלה בו‬
                                               ‫שיעור שורט מעודכן‬                  ‫נבדק שיעור שורט‬
‫ירידה‪/‬עלייה משמעותית)‪ .‬למשל‪ :‬מניה עם‬
                                              ‫מתקבל מ‪ API-‬פיננסי‬               ‫(‪ )Short Float‬גבוה‬
        ‫יחס ‪ P/C‬של ‪( 0.5‬הרבה קולים) ונפח‬
                                                ‫(‪ )Finnhub, FMP‬או‬        ‫במיוחד – נניח מעל ‪20%‬‬          ‫סוכן נגזרים‬
 ‫אופציות פי ‪ 300%‬מהממוצע‪ ,‬ושורט ‪30%‬‬
                                                     ‫גרידה מאתר כמו‬                ‫מהמניות הצפות –‬           ‫ושורט‬
‫מהצף אך בירידה מ‪ 30%-‬ל‪ – 20%-‬כל אלו‬
                                                  ‫‪( Finviz‬נתון ‪Short‬‬       ‫במיוחד אם הוא משולב‬
   ‫יחד יהוו סימן חיובי חזק; הסוכן ייתן ציון‬
                                                      ‫‪ .)Float‬הנתונים‬        ‫ב‪ Days to Cover-‬נמוך‬
  ‫גבוה ויציין “פוטנציאל ‪.”Short Squeeze‬‬
                                                    ‫כוללים‪ :‬יחס ‪/Put‬‬         ‫(כלומר פוזיציות שורט‬
       ‫לעומת זאת‪ ,‬אם יחס ‪ P/C‬מאוד גבוה‬
                                                         ‫‪ Call‬יומי‪OI ,‬‬    ‫גדולות שעלולות להילכד‬
     ‫(הרבה פוטים) ושורט בעלייה – זה יגרור‬
                                                   ‫(פוזיציות פתוחות)‬         ‫במחסור נזילות ולגרום‬
              ‫ציון שלילי‪ .‬הציון נשלח לסוכן‬
                                                ‫ו‪ Volume-‬באופציות‬        ‫ל‪ Short Squeeze‬כאשר‬
          ‫הקונסולידציה להכללה בהחלטה‪.‬‬
                                               ‫קול‪/‬פוט‪ ,‬נתון ‪Short‬‬          ‫המחיר יעלה) ‪. 62 61‬‬
                                                      ‫‪ ,)%( Float‬ומדד‬         ‫ירידה חדה בשורט גם‬
                                                      ‫‪Days to Cover‬‬      ‫היא מעניינת – אם שיעור‬
                                              ‫(ימים לכיסוי השורט)‪.‬‬                ‫השורט צונח‪ ,‬ייתכן‬
                                                 ‫חלק מהנתונים אולי‬                  ‫ששחקנים שפחדו‬
                                                       ‫יישמרו מקומית‬       ‫מעלייה סוגרים פוזיציות‬
                                               ‫לעדכון (למשל ‪Short‬‬                         ‫(סימן חיובי‬
                                                ‫‪ Float‬משתנה לאט)‪.‬‬                    ‫שה"שורטיסטים"‬
                                                                           ‫נכנעים)‪ .‬הסוכן בוחן גם‬
                                                                                     ‫נתוני נפח מסחר‬
                                                                              ‫באופציות‪ :‬פתאום פי‬
                                                                             ‫כמה מהממוצע בנפחי‬
                                                                                 ‫האופציות היומי‪ ,‬או‬
                                                                           ‫פעילות אופציות חריגה‬
                                                                            ‫על סטרייקים גבוהים –‬
                                                                                      ‫מעיד על ציפיות‬
                                                                                            ‫מהותיות‪.‬‬




                                                         ‫‪6‬‬
                                                                       ‫איחוד התוצאות מכל‬
                                                                  ‫הסוכנים וקבלת החלטה‬
                                                                      ‫סופית‪ .‬סוכן זה משמש‬
                                                                     ‫כ‪ ”Meta-Model“-‬אשר‬
                                                                            ‫לוקח את כל הפלט‬
                                                                   ‫מהסוכנים המומחים לכל‬
                                                                      ‫מניה מועמדת‪ ,‬ומחליט‬
                                                                            ‫האם להמליץ עליה‬
                                                                       ‫וכיצד‪ .‬הוא מחשב ציון‬
                                                                   ‫משוקלל סופי לכל מניה‪,‬‬
                                                                        ‫לפי משקלים מוגדרים‬
                                                                   ‫מראש לכל סוכן (או כללי‬
                                                                    ‫החלטה לוגיים) – למשל‪:‬‬
                                                                        ‫טכני ‪ ,30%‬פונדמנטלי‬
                                                                           ‫‪ ,25%‬חדשות ‪,20%‬‬
                                                                       ‫סנטימנט ‪ ,15%‬נגזרים‬
                                                                     ‫‪( 10%‬המשקלים ניתנים‬
                                             ‫ציוני כל הסוכנים‬
                                                                    ‫לכוונון בקובץ ההגדרות)‬
                                                  ‫עבור כל מניה‬
                                                                               ‫‪ . 63 5‬בנוסף‪,‬‬
                                              ‫(המגיעים כמבנה‬
                                                                         ‫מוגדרים ספי החלטה‬
       ‫רשימת המלצות סופית‪ :‬לכל מניה‬      ‫נתונים מרכזי – למשל‬
                                                                            ‫להמלצה‪ :‬אם הציון‬
    ‫שעברה ניתוח מופק ציון סופי ומשויך‬    ‫מילון או ‪DataFrame‬‬
                                                                    ‫המשוקלל מעל סף גבוה‬
‫סטטוס המלצה – ‪Buy / Watch / Ignore‬‬             ‫עם שורות מניות‬
                                                                          ‫והמניה עומדת ברוב‬
    ‫(או דירוג מספרי)‪ .‬כמו כן מופק טקסט‬    ‫ועמודות ציונים)‪ .‬כמו‬
                                                                         ‫הקריטריונים – תינתן‬
 ‫הסבר קצר לכל מניה‪ .‬הפלט יוצא כמבנה‬        ‫כן פרמטרי החלטה‬                                                  ‫סוכן‬
                                                                       ‫המלצת “‪( ”Buy‬קניה ‪/‬‬
‫נתונים (למשל טבלת ‪ )pandas‬המכיל את‬              ‫מוגדרים מקובץ‬                                       ‫קונסולידציה‬
                                                                      ‫מעקב צמוד); אם הציון‬
 ‫כל המועמדות עם כל הציונים‪ ,‬ההמלצה‬           ‫הקונפיג‪ :‬משקלות‬                                             ‫(איחוד)‬
                                                                                    ‫בינוני – אולי‬
  ‫וההסבר‪ .‬נתונים אלה מועברים למחולל‬            ‫סוכנים‪ ,‬ספי ציון‬
                                                                                 ‫“‪( ”Watch‬עקב‪,‬‬
‫הדו”ח ולהצגה ב‪ .UI-‬בנוסף נשמרים יתכן‬           ‫להמלצה‪ ,‬כללים‬
                                                                  ‫פוטנציאל שטרם הבשיל);‬
     ‫בבסיס נתונים פנימי (למשל ‪)SQLite‬‬          ‫לעקיפת החלטה‬
                                                                    ‫אם אין מספיק סימנים –‬
                        ‫לתיעוד ותחקור‪.‬‬      ‫(למשל “אם חדשות‬
                                                                          ‫לא תומלץ (‪/Ignore‬‬
                                         ‫שליליות חריגות – לא‬
                                                                       ‫‪ . 65 64 )Pass‬הסוכן‬
                                           ‫להמליץ גם אם שאר‬
                                                                     ‫מייצר גם הסבר מילולי‬
                                             ‫הציונים גבוהים”)‪.‬‬
                                                                            ‫קצר לכל המלצה –‬
                                                                        ‫למשל‪ :Buy ✔“ :‬נפחי‬
                                                                       ‫מסחר חריגים ‪ +‬עליה‬
                                                                       ‫בסנטימנט ‪ +‬תוצאות‬
                                                                   ‫עסקיות טובות מצביעים‬
                                                                              ‫על מומנטום‬
                                                                      ‫רב‪-‬תחומי” ‪. 6 65‬‬
                                                                              ‫לבסוף‪ ,‬סוכן‬
                                                                   ‫הקונסולידציה שולח את‬
                                                                    ‫ההחלטות ליצירת דו”ח‬
                                                                    ‫ולהתרעה בממשק‪ .‬כמו‬
                                                                    ‫כן הוא יכול לשמור את‬
                                                                  ‫התוצאות בבסיס נתונים‬
                                                                       ‫פנימי לצורך מעקב‬
                                                                    ‫וביצוע אנליזות בהמשך‬
                                                                     ‫(למשל מעקב הצלחות‬
                                                                            ‫וכיול מודלים)‪.‬‬




                                                   ‫‪7‬‬
                                                                              ‫תפקיד ופעולות‬
                      ‫פלט (פורמט ויעד)‬      ‫מקורות‪/‬קלט נתונים‬                                          ‫רכיב‬
                                                                                    ‫עיקריות‬

                                                                        ‫רכיב שירות לשליפת‬
                                                                         ‫נתונים חיצוניים עבור‬
                                                                      ‫הסוכנים‪ .‬מכיל פונקציות‬
                                                                      ‫שפונות ל‪ APIs-‬חיצוניים‬
                                                                        ‫או למסד נתונים מקומי‬
                                                                          ‫כדי להביא נתוני שוק‪,‬‬
                                                 ‫מקורות מגוונים‪:‬‬
                                                                            ‫פיננסים‪ ,‬חדשות וכו’‬
                                              ‫קריאות ‪HTTP/SDK‬‬
                                                                         ‫בפורמט אחיד‪ .‬המודול‬
    ‫נתונים גולמיים או מעובדים במבנה‬         ‫ל‪/ Yahoo Finance-‬‬
                                                                            ‫מרכז את כל קריאות‬
  ‫סטנדרטי (כגון ‪pandas.DataFrame‬‬                 ‫‪( yfinance‬נתוני‬
                                                                         ‫ה‪ API-‬למקום אחד כך‬
             ‫או מילון)‪ :‬למשל פונקציה‬            ‫מחיר והיסטוריה)‪,‬‬
                                                                     ‫שאם נרצה להחליף ספק‬
    ‫)‪get_price_history(ticker‬‬                  ‫‪Alpha Vantage‬‬
                                                                         ‫נתונים – נחליף רק פה‬
       ‫תחזיר ‪ DataFrame‬של מחיר יומי‬            ‫(מחירים‪ ,‬חדשות)‪,‬‬
                                                                         ‫ולא בכל הסוכנים ‪. 66‬‬
                            ‫היסטורי;‬          ‫‪( Finnhub‬חדשות‪,‬‬                                           ‫ספק‬
                                                                                 ‫הוא מטפל בקצב‬
‫)‪ get_latest_news(ticker‬יחזיר‬                 ‫פייננס)‪/Polygon ,‬‬                                      ‫הנתונים‬
                                                                                ‫הקריאות ובניהול‬
             ‫רשימת כותרות אחרונות;‬           ‫‪( IEX‬נתוני זמן‪-‬אמת‪,‬‬                                       ‫(‪Data‬‬
                                                                          ‫מפתחות ‪ .API‬כמו כן‪,‬‬
 ‫)‪ get_financials(ticker‬יחזיר‬                  ‫אופציות)‪Reddit ,‬‬                                    ‫‪)Provider‬‬
                                                                      ‫המודול מאחורי הקלעים‬
   ‫מילון נתונים פיננסיים; וכו’‪ .‬הפלט נצרך‬     ‫‪API, Twitter API‬‬
                                                                     ‫מנהל את חוות הנתונים‬
‫ישירות ע"י הסוכנים השונים‪ .‬הספק מהווה‬           ‫(פוסטים וציוצים)‪,‬‬
                                                                            ‫המקומית‪ :‬בודק אם‬
        ‫שכבת הפשטה – הסוכנים קוראים‬             ‫‪Google Trends‬‬
                                                                      ‫הנתון הדרוש כבר שמור‬
        ‫פונקציות שלו ולא ניגשים ישירות‬            ‫וכו’‪ .‬בנוסף גישה‬
                                                                     ‫מקומית (מטמון) – אם כן‬
                               ‫לאינטרנט‪.‬‬     ‫לבסיס נתונים מקומי‬
                                                                       ‫מחזיר מהמסד המקומי;‬
                                                  ‫(ראה מודל חוות‬
                                                                               ‫אם חסר או עדכני‬
                                               ‫הנתונים בפרק ‪.)3‬‬
                                                                            ‫חלקית‪ ,‬יבצע קריאה‬
                                                                          ‫חיצונית‪ ,‬יעבד וישמור‬
                                                                              ‫בתשתית המקומית‬
                                                                             ‫להבא‪ .‬כך מפחיתים‬
                                                                             ‫תלות בקריאות ‪API‬‬
                                                                                         ‫חוזרות‪.‬‬




                                                      ‫‪8‬‬
                                                                            ‫תפקיד ופעולות‬
                       ‫פלט (פורמט ויעד)‬      ‫מקורות‪/‬קלט נתונים‬                                         ‫רכיב‬
                                                                                  ‫עיקריות‬

                                                                            ‫יצירת דוח מרכז‬
                                                                         ‫תוצאות למשתמש‪.‬‬
                                                                          ‫מרכיב זה לוקח את‬
                                                                           ‫רשימת ההמלצות‬
                                                                              ‫הסופית מסוכן‬
                                                                      ‫הקונסולידציה (כולל כל‬
                                                                          ‫הציונים‪ ,‬ההמלצות‬
                                                                           ‫וההסברים) ומפיק‬
                                                                          ‫פורמטים ידידותיים‬
                                                                        ‫לשיתוף‪ :‬למשל קובץ‬
                                                                        ‫‪ Excel‬או ‪ .PDF‬עבור‬
                                                                     ‫‪ – Excel‬המודול משתמש‬
                                                                                ‫בספריות כמו‬
                                                    ‫קלט‪ :‬אובייקט‬                 ‫‪/ pandas‬‬
              ‫קובץ דוח בפורמט נבחר‪:‬‬
                                                 ‫ההמלצות מסוכן‬          ‫‪ xlsxwriter‬כדי‬
      ‫‪ report.xlsx‬או ‪report.pdf‬‬
                                             ‫הקונסולידציה (למשל‬      ‫לבנות גליון עם טבלת כל‬
           ‫וכד’‪ ,‬הנשמר במערכת ו‪/‬או נשלח‬
                                                  ‫‪ DataFrame‬או‬          ‫המניות‪ ,‬כולל עמודות‪:‬‬
   ‫למשתמש‪ .‬כמו כן‪ ,‬התראות מיידיות ניתן‬
                                               ‫רשימת אובייקטים‪,‬‬       ‫סימול‪ ,‬שם‪ ,‬ציוני ‪/T/F/S‬‬
         ‫להפיק‪ :‬למשל הודעת ‪Email/SMS‬‬                                                                 ‫מחולל‬
                                                   ‫כולל כל המידע‬       ‫‪ ,N/D‬ציון כולל‪ ,‬סטטוס‬
   ‫אוטומטית עבור מניה שזוהתה (עם תקציר‬                                                              ‫הדוחות‬
                                             ‫הדרוש)‪ .‬תבניות‪/‬תוכן‬       ‫(‪)Buy/Watch/Ignore‬‬
    ‫“‪ :Alert‬מניית ‪ XYZ‬מזנקת עכשיו‪ ,‬מומלץ‬
                                              ‫סטטי‪ :‬לוגו‪ ,‬כותרות‪,‬‬    ‫והסבר ‪ . 68 67‬ניתן אף‬
   ‫לעקוב!”)‪ .‬אלה נשלחות דרך מודול ‪SMTP‬‬
                                               ‫תאריך‪ ,‬פרטי יצירת‬         ‫לשלב גרפים פשוטים‬
    ‫(למשל ‪ )yagmail‬לחשבונות שהוגדרו ‪69‬‬
                                                 ‫קשר וכו’ לעיצוב‬            ‫בגליון (כמו תרשים‬
                                   ‫‪. 70‬‬
                                                            ‫הדוח‪.‬‬   ‫עמודות המשווה את ציוני‬
                                                                      ‫התחומים)‪ .‬עבור ‪– PDF‬‬
                                                                          ‫שימוש בספרייה כמו‬
                                                                         ‫‪ FPDF‬או ‪ReportLab‬‬
                                                                       ‫לבניית דו"ח מעוצב עם‬
                                                                           ‫לוגו‪ ,‬כותרת‪ ,‬טבלה‬
                                                                    ‫מסכמת‪ ,‬ואפשרות לעמוד‬
                                                                           ‫נפרד לכל מניה עם‬
                                                                        ‫ההסבר ותמונה גרפית‬
                                                                              ‫(למשל גרף מחיר‬
                                                                            ‫היסטורי קטן) ‪. 68‬‬
                                                                       ‫המודול דואג גם לשלוח‬
                                                                               ‫את הדוח במייל‬
                                                                          ‫למשתמש אם נדרש‪.‬‬

‫הערות‪ :‬בנוסף לסוכנים הנ"ל‪ ,‬עשויים להתווסף בעתיד סוכנים נוספים בהתאם לצורך – למשל סוכן מאקרו‪-‬כלכלי‬
‫(לבחינת מצב שוק כללי)‪ ,‬סוכן גיאופוליטי (מעקב אחר סיכונים רגולטוריים‪/‬מדינתיים) וכד’‪ .‬הם יפעלו באופן דומה‪ :‬יזינו‬
‫נתונים רלוונטיים‪ ,‬יתנו ציון‪ ,‬ויישולבו בהחלטה‪ .‬כל רכיבי הקוד מאורגנים כמודולים בפשטות – ראו בפרק ‪ 5‬להלן מבנה‬
                                                                                                       ‫הקבצים‪.‬‬




                                                      ‫‪9‬‬
                                                 ‫‪ .2‬אופן הפעולה של המערכת במצב ‪Live‬‬
                                        ‫המערכת תוכננה לפעול בשני מצבי פעולה עיקריים‪ ,‬המשלימים זה את זה‪:‬‬


  ‫סריקה תקופתית (‪ – )Batch Scan‬הרצה יזומה של כל הסוכנים על כלל השוק בפרקי זמן מוגדרים (למשל פעם‬             ‫•‬
              ‫ביום אחרי סגירת מסחר‪ ,‬או פעם בשבוע) כדי ללכוד מועמדים מבטיחים בצורה מקיפה ושיטתית‪.‬‬
 ‫ניטור חי (‪ – )Live Monitoring‬מעקב רציף בזמן אמת אחר השוק‪ ,‬כדי לזהות מיידית מניות שמתחילות לפרוץ‬            ‫•‬
                                            ‫במהלך יום המסחר ולשלוח עליהן התראה בזמן אמת ‪. 72 71‬‬

                          ‫במצב ‪ ,Live‬המערכת רצה ברציפות ברקע (כשירות‪/‬תהליך)‪ ,‬ומבצעת את הפעולות הבאות‪:‬‬


‫משיכת נתונים חיים‪ :‬באמצעות ספק הנתונים‪ ,‬המערכת מקבלת עדכונים שוטפים מהשוק‪ .‬כדי לייעל משאבים‪,‬‬                ‫‪.1‬‬
‫לא מתבצעת סריקה מלאה על אלפי מניות כל שנייה – זה בלתי אפשרי‪ .‬במקום זאת‪ ,‬המערכת נעזרת בטריקים‪:‬‬
‫למשל‪ ,‬היא מאזינה ל רשימות מניות בולטות תוך‪-‬יומיות כמו “‪ ”Top Gainers / Losers‬כרגע‪”Highest Volume“ ,‬‬
‫היום וכו’ – רשימות קטנות שמתעדכנות תדיר (ניתן לקבלן מ‪ API-‬של ‪ Yahoo‬או ‪ .)Polygon‬רק על המניות‬
‫שברשימות אלו (שכבר מראות תנועה חשודה) יופעל סוכן הסינון והניתוח בתדירות גבוהה ‪ . 74 73‬בנוסף‪,‬‬
‫המערכת מאזינה לטריגרים ספציפיים‪ :‬אם מניה מסוימת עולה ביותר מסף ‪ %X‬בפרק זמן ‪ – Y‬זה מפעיל מיד את‬
‫ניתוח הסוכנים עליה (סף ברירת מחדל למשל‪ 10%+ :‬בשעה – ניתנת להגדרה בממשק ‪ .) 75‬בצורה כזו‪ ,‬המערכת‬
                                   ‫תופסת אירועים “חמים” מבלי לסרוק סתם את כל השוק ללא הבחנה‪.‬‬


‫ניתוח בזמן אמת‪ :‬כאשר זוהתה מניה שעומדת בתנאי טריגר (למשל נכנסה לטופ גיינרס‪ ,‬או זינקה פתאום)‪,‬‬                ‫‪.2‬‬
‫המערכת באופן אוטומטי מריצה את כל סוכני הניתוח על אותה מניה באופן מיידי‪ .‬זה כולל משיכה מיידית של‬
‫נתוני השוק העדכניים שלה (גרף עד השעה האחרונה‪ ,‬חדשות מהדקה האחרונה וכו’) ודרך שרשור מהיר – העברת‬
‫המניה לסוכן הטכני‪ ,‬הפונדמנטלי‪ ,‬החדשות‪ ,‬הסנטימנט והנגזרים‪ .‬הסוכנים מפיקים את ציוניהם בזמן קצר (עניין‬
‫של שניות בודדות‪ ,‬תלוי בקריאות ‪ .)API‬תודות למבנה המודולרי‪ ,‬אפשר להריץ את הסוכנים במקביל (למשל‬
‫בעזרת ‪ )threads/asyncio‬כדי לקצר זמן ‪ . 77 76‬הניתוח בזמן אמת ממוקד בדרך‪-‬כלל רק במניה‪/‬מניות‬
                                                                     ‫החשודות כרגע‪ ,‬ולא בכל האלפים‪.‬‬


‫ניתוב ופרסום תוצאות‪ :‬בסיום ניתוח ‪ ,live‬סוכן הקונסולידציה מחשב מיידית את ההמלצה למניה החשודה‪ .‬אם‬             ‫‪.3‬‬
‫ההמלצה היא חיובית (נניח “‪ ”Buy‬או “‪ – )”Watch‬המערכת שולחת התראה בזמן אמת למשתמש‪ .‬ההתראה‬
‫נשלחת בערוצים שהוגדרו‪ :‬למשל אימייל מידי עם נושא כגון “‪ :Alert‬מניית ‪ XYZ‬פורצת כעת!”‪ ,‬תוכן ההודעה‬
‫יכלול את שם המניה‪ ,‬המחיר הנוכחי והשינוי‪ ,‬והסבר קצר‪ :‬למשל “המניה זינקה ‪ 12%‬בשעה האחרונה בליווי נפחי‬
‫מסחר גבוהים” ‪ . 70 78‬אפשר להגדיר שההתראה תישלח גם ב‪ SMS-‬או בטלגרם‪ .‬בממשק המשתמש‪ ,‬אם‬
‫פתוח‪ ,‬יקפוץ חיווי‪/‬נוטיפיקציה עם אותה הודעה‪ .‬בנוסף‪ ,‬התוצאה נשמרת בבסיס הנתונים (לוגים) עם‬
                                                                               ‫‪ timestamp‬שקרתה‪.‬‬


‫המשך ניטור והגבלת הצפות‪ :‬המערכת בעת ניטור חי מתמודדת עם קצב אירועים גבוה‪ .‬לכן ייתכן שיוגדר מנגנון‬           ‫‪.4‬‬
‫“צבירת התראות”‪ :‬למשל אם ‪ 5‬מניות שונות פרצו בתוך ‪ 10‬דקות – במקום ‪ 5‬מיילים‪ ,‬המערכת יכולה לשלוח‬
‫מייל מרוכז אחת לשעה עם כל ההתרעות האחרונות‪ .‬זאת ניתן להגדיר בקובץ ההגדרות (‪aggregation‬‬
‫‪ .)window‬כמו כן ניתן לכוונן את רף ההתראה כדי למנוע הצפת יתר‪ :‬למשל להתריע רק מעל ‪/15%‬שעה‪.‬‬
‫המערכת גם מנהלת עומסים ‪ :‬אם מניה כבר נותחה לפני זמן קצר‪ ,‬לא תנותח שוב כל דקה אלא יינתן חלון‬
                               ‫המתנה (‪ )cooldown‬בטרם ניתוח חוזר‪ ,‬אלא אם חלה התפתחות דרמטית נוספת‪.‬‬


‫‪ Flow‬התוצאה במצב ‪ :Live‬תוצאה מניתוח חי (לדוגמה‪ ,‬מניית ‪ ABC‬קיבלה “‪ ”Buy‬בציון גבוה) תנותב מיד גם לממשק‬
‫המשתמש – בדאשבורד יופיע עדכון בזמן אמת (“‪ )”!ABC – NEW BUY ALERT‬ברשימת ההתראות האחרונות ‪. 80 79‬‬
‫אם מצב ‪ Live‬כבוי‪ ,‬המשתמש לא יקבל התראות אלא רק בסריקה התקופתית‪ .‬שני המצבים יכולים לפעול במקביל‪:‬‬
   ‫סריקה לילית לאיתור מועמדים שקטים‪ ,‬לצד ניטור חי יומי לאירועי פתע – וכך המערכת מכסה את שני התרחישים ‪. 81‬‬


‫לסיכום מצב ‪ :Live‬הניטור החי נותן יתרון זמן – המשתמש מקבל מידע כשהוא “חם” בזמן אמת‪ ,‬ויכול להגיב מיד‬
‫להזדמנויות ‪ . 82‬לעומת זאת‪ ,‬הסריקה התקופתית שיטתית ומקיפה יותר – היא עשויה לגלות מניות בהתהוות מגמתית‬




                                                    ‫‪10‬‬
 ‫שאולי לא קפצו ביום אחד (לדוגמה‪ ,‬מניה שעולה בהתמדה שבועות – הניטור החי עשוי לא להתריע כי אין אירוע בודד‬
 ‫דרמטי‪ ,‬אבל סריקה שבועית תתפוס זאת)‪ .‬לכן המערכת מיועדת לפעול בשני המצבים‪ :‬סריקה יומית‪/‬שבועית למצוא את‬
 ‫“יהלומים בחול” בשוק הרחב‪ ,‬וניטור שוטף לתפוס “אזעקות אמת” בזמן אמת‪ .‬תזמון הסריקות התקופתיות ניתן לקינפוג‬
 ‫(למשל כל יום ב‪ 18:00-‬להריץ סריקה מלאה‪ ,‬וכל יום ב‪ 09:30-‬להתחיל ניטור חי עד ‪ .)16:00‬ישנו מודול מתזמן ייעודי‬
‫(כגון ‪ ) scheduler.py‬שמנהל זאת – אפשר לממש עם ספריית ‪ APScheduler‬בפייתון לתזמן את הקריאות של‬
                              ‫‪.‬‬   ‫‪84‬‬   ‫‪83‬‬   ‫)(‪ run_periodic_scan‬ו‪ run_live_monitor() -‬בזמנים מוגדרים‬


                    ‫‪ .3‬מודל "חוות נתונים מתעדכנת" – ניהול הנתונים ההיסטוריים‬
‫כחלק מהמערכת‪ ,‬משולב מודול חוות נתונים מקומית (‪ )Data Farm‬שנועד להתמודד עם הכמות העצומה של נתונים‬
                 ‫הנדרשים לניתוח אלפי מניות‪ ,‬וכן להפחית תלות בקריאות ‪ API‬יקרות בזמן אמת‪ .‬להלן תאור המודל‪:‬‬


       ‫מקורות הנתונים ההיסטוריים‪ :‬המערכת תשמור באופן מקומי מאגר נתונים רחב ועדכני של מניות ארה"ב‪:‬‬            ‫•‬
 ‫נתוני מחיר והיקף מסחר היסטוריים ברזולוציות שונות – שעות (‪ ,intraday‬נניח פרקי ‪ 60‬דקות לשנה אחרונה)‪,‬‬          ‫•‬
‫יומי (‪ 20–10‬שנים אחורה)‪ ,‬שבועי וחודשי (לזיהוי מגמות ארוכות טווח)‪ .‬נתונים אלה נחוצים לסוכן הטכני ולסינון‬
                                                                                                  ‫הראשוני‪.‬‬
     ‫נתונים פונדמנטליים היסטוריים – למשל תוצאות דוחות כספיים רבעוניים ושנתיים לכל מניה (הכנסות‪ ,‬רווח‪,‬‬        ‫•‬
                          ‫תחזיות)‪ ,‬נתוני מאזן‪ ,‬תזרים וכו’‪ ,‬לפחות ‪ 10–5‬שנים אחורה‪ .‬נחוצים לסוכן הפונדמנטלי‪.‬‬
   ‫היסטוריית חדשות ודיווחים – המאגר יכול לשמור כותרות חדשות מרכזיות וקישורן עבור כל מניה (למשל ניתן‬          ‫•‬
      ‫לשמור את ‪ 100‬החדשות האחרונות בכל זמן)‪ .‬כמו כן שמירת אירועים מיוחדים (הודעות על הנפקות‪ ,‬מיזוגים‪,‬‬
                                                                                                 ‫אישורים)‪.‬‬
  ‫היסטוריית סנטימנט ובאזז – נתונים מצטברים כמו מספר הפוסטים‪/‬אזכורים שבועי לכל מניה ברשת (אם ניתן)‪,‬‬           ‫•‬
         ‫או לפחות נקודות בזמן של “מדדי התלהבות” – כך ניתן לראות האם יש עלייה הדרגתית בהתעניינות לאורך‬
                                                                                                   ‫שבועות‪.‬‬

‫המלצות אנליסטים היסטוריות – ניתן לכלול בסיס נתונים של המלצות אנליסט (‪ )rating‬ויעדי מחיר לאורך זמן‪,‬‬           ‫•‬
                                       ‫לראות האם יש שינוי מגמה (למשל גל של שדרוג המלצות טרם עלייה)‪.‬‬


‫שמירת הנתונים בצורה מקומית‪ :‬הנתונים יישמרו בבסיס נתונים או קבצים מקומיים כדי לאפשר שליפה מהירה‪.‬‬              ‫•‬
‫לשם פשטות‪ ,‬ב‪ MVP-‬ניתן להשתמש בקבצי ‪ SQLLite‬או ‪ .CSV/Parquet‬למשל‪ ,‬ליצור מסד ‪ SQLite‬בשם‬
‫‪ historical_data.db‬עם מספר טבלאות‪ :‬טבלת ‪( prices‬עמודות‪/ticker, date/time, open/high :‬‬
‫‪ low/close/volume‬וכו’)‪ ,‬טבלת ‪ ,ticker, period, revenue, EPS( financials‬וכו’)‪ ,‬טבלת ‪,ticker( news‬‬
‫‪ .‬ספריות כמו ‪ pandas‬יאפשרו לשמור ולשלוף במהירות‪ .‬יתרון‬          ‫‪86‬‬   ‫‪85‬‬   ‫‪ ,)date, headline, sentiment‬וכו’‬
‫הגישה המקומית‪ :‬ניתן להריץ שאילתות מורכבות (למשל להוציא ממוצע נפח ‪ 3‬חודשים) בלי לפנות ל‪ API-‬חיצוני‬
                                                                                 ‫בכל פעם ‪. 88 87‬‬


‫תהליך עדכון “חכם” (מתעדכן)‪ :‬החווה תנוהל ע"י מודול רכישת הנתונים (‪ )Data Ingestion‬שהוזכר‪ .‬מודול‬               ‫•‬
                                               ‫זה יריץ עדכונים תקופתיים להשלמת הנתונים החסרים‪:‬‬


 ‫נתוני מחיר ‪ – intraday‬אפשר לקבוע שיתעדכנו כל ‪ 5‬דקות במהלך המסחר‪ :‬המודול יפנה ל‪ API-‬שמספק נתוני‬              ‫•‬
    ‫דקות‪/‬שעות (ייתכן ‪ Polygon‬או ‪ IEX‬בתשלום לצורך נתוני ‪ realtime‬כמעט ללא דיליי) ויתעדכן‪ .‬לחלופין‪ ,‬ניתן‬
                                        ‫להתבסס על נתוני דיליי ‪ 15‬דקות בחינם (‪ )Yahoo‬עבור ניטור חי קל ‪. 89‬‬
 ‫נתוני סגירה יומיים – המערכת תמשוך לאחר סגירת שוק כל יום את מחיר הסגירה והנפח לכל המניות (‪ API‬כמו‬            ‫•‬
                                         ‫‪ Yahoo/AlphaVantage‬מאפשר משיכת “‪ ”bulk‬או בקריאות מחזוריות)‪.‬‬
 ‫דוחות כספיים – אחת לרבעון‪ ,‬עם פרסום הדוחות‪ ,‬המערכת תוריד את הנתונים החדשים (יש ‪ API‬ייעודיים כמו‬             ‫•‬
                                ‫‪ AlphaVantage Earnings‬או ‪ FinModPrep‬שיכולים לספק נתוני ‪ EPS‬והכנסות)‪.‬‬
           ‫חדשות – ניתן להשתמש ב‪( News API-‬כגון חדשות ‪ )AlphaVantage‬כדי למשוך מדי יום את הכותרות‬             ‫•‬
                                                                   ‫האחרונות עבור המניות המובילות ולשמור‪.‬‬
   ‫סנטימנט – אפשר לקחת “צילום” שבועי של מספר האזכורים הבולטים (למשל לקבל מ‪ SocialGrapes API-‬או‬               ‫•‬
                                                                             ‫בעצמנו למדוד ברדיט) ולשמור‪.‬‬




                                                       ‫‪11‬‬
‫המודול החכם יוודא כי בכל הרצה של סוכן‪ ,‬הנתונים הדרושים כבר קיימים‪ :‬למשל‪ ,‬כשסוכן הטכני מבקש היסטוריית ‪1‬‬
‫שנה‪ ,‬המודול יבדוק אם בטבלה המקומית יש עד תאריך אתמול – אם לא‪ ,‬ישלים קריאה‪ .‬כל קריאה חיצונית תישמר מיד‬
‫למסד המקומי לשימוש עתידי‪ .‬כך אם נריץ סריקות יומיות‪ ,‬ביום הראשון המערכת תוריד הרבה מידע‪ ,‬אבל בהמשך כמות‬
                                                                     ‫העדכון תהיה קטנה (רק נתונים חדשים)‪.‬‬


   ‫מקורות נתונים אמינים ועצמאיים‪ :‬מומלץ להשתמש בשילוב של מקורות חינמיים ומשלימים כדי למלא את‬                 ‫•‬
                                                                                         ‫החווה‪:‬‬
        ‫‪( Yahoo Finance‬דרך ‪ – ) yfinance‬מספק היסטוריית מחירים ארוכה בחינם‪ ,‬כולל מחירי יומי ואף‬               ‫•‬
                                                    ‫אינטרה‪-‬די (דיליי)‪ .‬טוב למילוי בסיסי של טבלאות המחיר‪.‬‬
‫‪ API – Alpha Vantage‬חינמי (עד ‪ 5‬קריאות בדקה) שנותן מחירי יומי ו‪ ,Intraday-‬וכן חדשות ודוחות בסיסיים‪.‬‬          ‫•‬
                                                              ‫ניתן להרשם לכמה מפתחות כדי להגביר קצב‪.‬‬
 ‫‪ – Finnhub‬מציע נתוני מניות (כולל נרות דקה אם משלמים‪ ,‬וחדשות‪ ,‬סנטימנט‪ ,‬המלצות אנליסטים)‪ .‬יש מכסה‬             ‫•‬
                                                   ‫חינמית נדיבה (‪ 60‬קריאות‪/‬דקה)‪ .‬יכול להיות מקור מרכזי‪.‬‬
                                  ‫‪ API – Financial Modeling Prep‬חינמי יחסי לדוחות כספיים והמלצות‪.‬‬            ‫•‬
     ‫‪ Polygon.io‬או ‪ – IEX Cloud‬בתשלום‪ ,‬לצרכים מתקדמים (נתוני ‪ WebSocket‬בזמן אמת‪ ,‬עומק שוק וכו’)‪.‬‬             ‫•‬
                        ‫למעקב חי ללא דיליי אולי נידרש להם אם הדיוק קריטי ‪ . 90‬ל‪ ,MVP-‬דיליי קטן מתקבל‪.‬‬
       ‫‪ – Reddit/Twitter‬שימוש ב‪ API-‬הציבוריים שלהם (ל‪ Twitter-‬יש גישה מוגבלת בחינם‪ ,‬יתכן צורך לשלם‬           ‫•‬
‫ל‪ Firehose-‬לגישה מלאה; ל‪ Reddit-‬אפשר להשתמש ב‪ Pushshift-‬היסטורי)‪ .‬קיימים כלים שמרכזים מידע רשת‬
                                                                     ‫(כמו ‪ mencionado AltData‬למניות)‪.‬‬
    ‫‪ – NewsAPI‬שירות חדשות כללי (החינמי מוגבל אך אפשרי)‪ Alpha Vantage News .‬מספק חדשות עד ‪200‬‬                 ‫•‬
                                          ‫ידיעות לכל טיקר‪ .‬גם ‪ Yahoo RSS‬אפשרי לחלק מהחברות הגדולות‪.‬‬

‫‪ – Finviz‬לא ממש ‪ ,API‬אבל ניתן לגרד את עמוד המניה כדי לקבל נתונים כמו ‪Short Float, Insider‬‬                    ‫•‬
‫‪ ,Ownership‬וכו’ (יעיל למילוי נתוני שורט)‪ .‬הדוח הטכני מציין שאפשר לגרד את ‪ Finviz‬עבור נתון ‪Short‬‬
                                                                       ‫‪ Float‬במקום ‪. 91 88 API‬‬


‫התאמת מבנה המידע‪ :‬החווה המקומית תבצע גם איחוד והמרה של הנתונים מפורמטים שונים לפורמט‬                         ‫•‬
‫סטנדרטי‪ .‬למשל‪ :‬המרה של כל התאריכים לפורמט ‪ DateTime‬אחיד‪ ,‬מילוי חורים (אם יום חסר נתונים – ייתכן‬
‫השלמה ממקור חלופי)‪ ,‬התאמת שמות עמודות‪ .‬כך בעת שליפה‪ ,‬הסוכנים לא צריכים להתאים עצמם למקור –‬
                                                                        ‫הכל מקבלים באותה תצורה‪.‬‬


‫‪ :Handling Missing Data‬אם סוכן מבקש נתון חסר (נניח סוכן הנגזרים מבקש נתון ‪ Short Interest‬עדכני‬               ‫•‬
‫ואצלנו נשמר רק חודשי) – מודול החווה יזהה את הפער ויפעיל מנגנון עדכון אד‪-‬הוק ‪ :‬יבצע מייד שאילתא למקור‬
‫חיצוני למלא את החסר‪ .‬למשל‪ ,‬אם ‪ Short Float‬עודכן אתמול בערב באתר ‪ ,X‬אז כשנריץ בבוקר ניתן למשוך את‬
‫הערך החדש ולעדכן‪ .‬באופן דומה‪ ,‬אם מבקשים גרף ‪ intraday‬לטיקר שלא נסחר מזמן – המודול ינסה להשלים‬
‫מההתחלה‪ .‬מנגנון זה יבטיח שלא נפספס מניות רק כי לא היו לנו נתונים עליהן‪ ,‬הוא תמיד ישלים פערים טרם‬
                                                                                 ‫העברת הנתונים לסוכן‪.‬‬


‫תחזוקה וניקוי נתונים‪ :‬החווה תכלול גם משימות רקע לניקוי ותחזוקה‪ :‬דחיסת נתונים ישנים‪ ,‬הסרת מניות שלא‬           ‫•‬
                                       ‫נסחרות יותר (או ארכובן)‪ ,‬בדיקה תקופתית שאין כפילויות ושגיאות‪.‬‬


‫בעזרת מודל “חוות הנתונים” הזה‪ ,‬המערכת הופכת לפחות תלויה בחיבור אינטרנט רציף ומהיר‪ .‬בסריקה של אלפי מניות‪,‬‬
‫חלק גדול מהמידע יגיע מהמקומי – מה שמאיץ מאוד את התהליך וגם חוסך עלויות ‪ .API‬לדוגמה‪ :‬סוכן הסינון הראשוני‪,‬‬
‫במקום לפנות ‪ 3000‬פעם ל‪ Yahoo Finance-‬לקבלת ממוצע נפח ‪ 3‬חודשים לכל מניה – פשוט יריץ שאילתא ‪ SQL‬אחת‬
‫לטבלת ‪ prices‬שלנו ויקבל את הערכים מייד ‪ . 85‬רק במקרים שאין טבלה (למשל מניה חדשה)‪ ,‬הוא יקרא ‪API‬‬
                                                     ‫חיצוני‪ .‬כך המערכת סקלבילית לצמוח ולכסות ‪ Universe‬רחב‪.‬‬


                                                   ‫‪ .4‬תרשים זרימת המערכת (‪)High-Level‬‬
   ‫להלן תרשים זרימה סכמטי המתאר את ארכיטקטורת המערכת כולה‪ ,‬את הסוכנים השונים‪ ,‬ואת מעבר המידע ביניהם‪:‬‬




                                                      ‫‪12‬‬
‫תרשים ‪ :1‬תרשים זרימת נתונים ופעולת הסוכנים במערכת החיזוי‪ .‬המידע זורם משמאל לימין‪ :‬מקורות נתונים חיצוניים‬
‫(משמאל‪ ,‬במקביל) מזינים את הסוכנים הרלוונטיים‪ :‬נתוני שוק ושורט משמשים את סוכן הסינון והסוכן הטכני; נתונים‬
 ‫פיננסיים להזנת הסוכן הפונדמנטלי; חדשות להזנת סוכן החדשות; ומדיה חברתית (באזז) להזנת סוכן הסנטימנט ‪92‬‬

‫‪ . 93‬בשלב ראשון‪ ,‬סוכן הסינון סורק את כל המניות ומעביר רשימת מועמדות מצומצמת לסוכני הניתוח ‪. 95 94‬‬
‫לאחר מכן‪ ,‬כל סוכני הניתוח המומחים פועלים במקביל על כל מניה מועמדת ומפיקים “סיגנל” חלקי מנקודת המבט‬
‫שלהם (טכני‪ ,‬פונדמנטלי‪ ,‬וכו’) ‪ . 96 95‬לבסוף‪ ,‬סוכן הקונסולידציה (בירוק) אוסף את כל הציונים מהסוכנים‪ ,‬מחשב ציון‬
‫משוקלל סופי ומחליט על המלצת השקעה (למשל “‪ ”Buy‬עם דגל ירוק‪ ,‬או “‪ ”Watch‬צהוב‪ ,‬או דחייה) ‪. 98 97‬‬
‫ההמלצות הסופיות (כולל נימוקים) מוצגות למשתמש בממשק ו‪/‬או נשלחות כהתרעה‪ .‬כל התהליך מתועד גם בבסיס‬
                                                            ‫נתונים פנימי לצורך שיפור ולמידה עתידית ‪. 99 97‬‬


         ‫‪ .5‬חזון המערכת בסיום הפיתוח (ממשק‪ ,‬מבנה‪ ,‬ותפעול ב‪)Production-‬‬
‫בסיום הפיתוח‪ ,‬מערכת חיזוי המניות תהווה פלטפורמה מלאה הכוללת‪ :‬ממשק משתמש אינטואיטיבי‪ ,‬קוד ‪backend‬‬
                   ‫מסודר ומודולרי‪ ,‬תשתית פריסה‪ ,‬ותהליך עבודה יעיל בפיתוח ובייצור‪ .‬נפרט את ההיבטים הצפויים‪:‬‬


                                                                          ‫א‪ .‬מבנה קוד ופרויקט (‪:)Backend‬‬
                                    ‫קוד המערכת יאורגן כפרויקט ‪ Python‬מובנה‪ ,‬עם מבנה תיקיות מסודר‪ .‬לדוגמה‪:‬‬



  ‫‪├── config.yaml‬‬                     ‫משקלים‪ ,‬ספים‪ ,‬זמני סריקה ‪ API,‬קובץ הגדרות גלובלי )מפתחות ‪#‬‬
  ‫‪’) 100 101‬וכו‬
  ‫‪├── data_provider.py‬‬                ‫שונות )מחירים‪ ,‬חדשות ‪ get_data‬מודול ספק הנתונים – פונקציות ‪#‬‬
  ‫)’וכו‬   ‫‪102‬‬   ‫‪103‬‬

  ‫‪├── agent_filter.py‬‬                 ‫‪:‬מימוש סוכן הסינון הראשוני )פונקציה עיקרית ‪#‬‬
  ‫‪initial_filter()) 104‬‬       ‫‪105‬‬

  ‫‪├── agent_technical.py‬‬              ‫))(‪ analyze_technical‬פונקציה( מימוש סוכן ניתוח טכני ‪#‬‬         ‫‪106‬‬

   ‫‪107‬‬

  ‫‪├── agent_fundamental.py‬‬            ‫))(‪ analyze_fundamental‬פונקציה( מימוש סוכן פונדמנטלי ‪#‬‬
   ‫‪108‬‬    ‫‪109‬‬

  ‫‪├── agent_news.py‬‬                   ‫‪ analyze_news()) 110 111‬פונקציה( מימוש סוכן חדשות ‪#‬‬
  ‫‪├── agent_sentiment.py‬‬              ‫))(‪ analyze_sentiment‬פונקציה( מימוש סוכן סנטימנט ‪#‬‬          ‫‪112‬‬

   ‫‪113‬‬

  ‫‪├── agent_derivatives.py‬‬            ‫))(‪ analyze_derivatives‬פונקציה( מימוש סוכן נגזרים ‪#‬‬         ‫‪114‬‬

   ‫‪115‬‬

  ‫‪├── consolidation.py‬‬       ‫מימוש סוכן הקונסולידציה )פונקציה ‪#‬‬
  ‫‪consolidate_and_recommend()) 116 76‬‬
  ‫‪├── report_generator.py‬‬             ‫‪ generate_report()) 117 68‬פונקציה( מודול הפקת דוחות ‪#‬‬
  ‫‪├── scheduler.py‬‬                    ‫)‪ APScheduler‬הרצת סריקה תקופתית‪/‬חי‪ ,‬מבוסס( סקריפט תזמון ‪#‬‬
   ‫‪83‬‬     ‫‪84‬‬

  ‫‪├── main.py‬‬                         ‫‪) 118 119‬ווב‪ (CLI/‬נקודת כניסה ראשית – הפעלת המערכת ‪#‬‬
  ‫‪└── ui_webapp.py‬‬                    ‫לממשק הוובי )ראו ‪ Flask/Streamlit‬שרת )אופציונלי( ‪#‬‬
  ‫)בהמשך‬


  ‫כל מודול מממש את האחריות שלו כפי שתואר בפרקים קודמים‪ .‬למשל‪ agent_filter.py ,‬מטעין רשימת טיקרי‬
   ‫יוניברס (יכול להיות מקובץ ‪ tickers_list.csv‬מקומי) ומבצע את שני שלבי הסינון‪ ,‬תוך שימוש בפונקציות של‬
         ‫‪ agent_technical.py .‬יטען היסטוריית מחירים דרך‬     ‫‪120‬‬   ‫‪104‬‬   ‫‪ data_provider‬לקבלת נתונים נדרשים‬
         ‫‪( data_provider‬לדוגמה‪ ) prices = get_price_history(ticker, last_n_days=300) :‬ואז יבצע‬
    ‫חישובי אינדיקטורים (ייתכן שימוש בספריית ‪ TA-Lib‬לחישוב ‪ RSI/MACD‬וכו’) ויזהה תבניות (ייתכן ע"י מודל ‪ ML‬טעון‬
 ‫מקובץ ‪ pickle‬כמו ‪ pattern_model.pkl‬כפי שמוזכר בקוד ‪ .) 122 121‬שאר הסוכנים עובדים באנלוגיה – כל היגיון‬
                                                                            ‫העסקי שלהם מתוחם לקובץ המתאים‪.‬‬




                                                    ‫‪13‬‬
‫קובץ ה‪ config-‬יכיל ערכים ניתנים לשינוי ללא עריכת קוד‪ :‬למשל ספי סינון (שווי שוק מינ’ וכו’)‪ ,‬משקלי חישוב לציון‬
‫הסופי‪ ,‬ספי החלטה ל‪ ,Buy/Watch-‬זמנים לתזמון סריקות‪ ,‬דוא"ל לקבלת התרעות וכו’ ‪ . 123 100‬הדבר מאפשר גמישות‬
                                                                                                       ‫גדולה‪.‬‬


‫הקוד יתוכנן לקריאה ולתחזוקה‪ :‬למשל‪ ,‬שמות משתנים ופונקציות תיאוריים‪ ,‬חלוקה למחלקות אם צריך‪ .‬יכללו גם‬
         ‫בדיקות יחידה (‪ )unit tests‬בסיסיות לכל סוכן‪ ,‬כדי לוודא שהפלט בפורמט נכון ושהלוגיקה עובדת על דוגמאות‪.‬‬


                                                                   ‫ב‪ .‬ממשק משתמש (‪:)Frontend – UX/UI‬‬
‫ממשק המשתמש יהיה וובי מודרני‪ ,‬נגיש דרך דפדפן‪ .‬הוא יהיה ידידותי‪ ,‬אינטואיטיבי וקל לתפעול גם למי שאינו איש‬
‫טכני ‪ . 125 124‬סביר לממש ב‪ Framework-‬פייתון כמו ‪( Streamlit‬לצרכי ‪ )MVP‬או ‪ Flask‬עם ‪ React‬ליישום מעוצב‬
                                   ‫יותר ‪ . 127 126‬הממשק יתמוך בתצוגה רספונסיבית (יתאים גם למסכים קטנים)‪.‬‬


                                                                ‫הממשק מחולק לכמה מסכים‪/‬לשוניות עיקריות‪:‬‬


‫‪( Dashboard‬מסך ראשי)‪ :‬מציג במבט‪-‬על את תוצאות הסריקה האחרונות ומצב המערכת‪ .‬בחלק העליון‬                           ‫•‬
 ‫יוצגו מספר כרטיסי המלצה בולטים – למשל ‪ Top 3‬המניות שקיבלו הציון הגבוה ביותר בהמלצה האחרונה ‪128‬‬

‫‪ . 129‬כל כרטיס יציג את שם המניה‪ ,‬הסימול‪ ,‬הציון הכולל והסטטוס (‪ ,)Buy/Watch‬ואייקון קטן (חץ למעלה ירוק‬
‫לקנייה‪ ,‬צהוב למעקב) לחיווי ‪ . 129 128‬לחיצה על כרטיס תקפיץ את המשתמש למסך התוצאות המפורטות של‬
‫אותה מניה‪ .‬בלוח המחוונים יופיע גם סטטוס המערכת – מתי נערכה הסריקה האחרונה (“‪:Last scan‬‬
‫‪ )”18:00 2025-07-23‬ומתי הסריקה הבאה‪ ,‬והאם ניטור חי פעיל כרגע ‪ . 131 130‬יוצגו כפתורים מהירים‪“ :‬‬
‫סרוק עכשיו” להרצת סריקה ידנית מחוץ למחזור‪ ,‬מתג הפעלה‪/‬כיבוי למצב ‪ ,Live‬וכפתור “רענן” לעדכון התצוגה‬
‫‪ . 133 132‬יתכן גם מקטע של תקציר שוק (מדדים מובילים היום‪ ,‬ספירת ‪ X‬מניות סוננו‪ Y ,‬נבדקו) לתת הקשר‬
‫‪ . 135 134‬כמו כן תוצג רשימת התראות אחרונות (אם המצב החי שלח התראות לאחרונה – יוצג למשל “‪14:35‬‬
‫– התראה‪ XYZ :‬זינקה ‪ 12%‬תוך שעה” כדי שהמשתמש יראה מה התרחש מאז שבדק ‪ .) 80 136‬הדאשבורד‬
                                                                         ‫מספק כך תמונה כללית מהירה‪.‬‬


‫מסך תוצאות מפורטות (“‪ :)”Recommendations‬זהו העמוד המרכזי המציג את רשימת כל המניות שדורגו‬                        ‫•‬
‫בסריקה האחרונה ‪ . 138 137‬יוצג טבלה אינטראקטיבית עם עמודות‪ ,Symbol :‬שם החברה‪ ,‬ציוני ‪( T‬טכני)‪F ,‬‬
‫(פונד’)‪( S ,‬סנטימנט)‪( N ,‬חדשות)‪( D ,‬נגזרים)‪ ,‬ציון כולל והמלצה ‪ . 140 139‬כברירת מחדל הטבלה תמוין לפי‬
‫הציון הכללי מהגבוה לנמוך ‪ . 141‬מעל הטבלה יהיו אפשרויות סינון וחיפוש ‪ :‬למשל ‪ checkbox‬להציג רק ‪Buy‬‬
‫או רק ‪ ,Watch‬שדה חיפוש טקסט לחיפוש מניה לפי שם‪/‬סימול‪ ,‬אפשרות לבחור תאריך עבר כדי לטעון תוצאות‬
‫מסריקות היסטוריות (המערכת תשמור היסטוריה בסיסית של תוצאות) ‪ . 143 142‬כאשר המשתמש לוחץ על‬
                                ‫שורת מניה בטבלה‪ ,‬ייפתח פאנל צד‪/‬חלון קופץ עם פרטי המניה ‪: 145 144‬‬


   ‫גרף אינטראקטיבי של מחיר המניה (לדוגמה שנה אחרונה)‪ ,‬עם סימון נקודות מפתח (כמו יום של נפח חריג או‬              ‫•‬
                ‫הודעה חשובה) ‪ . 147 146‬הגרף יהיה כנראה באמצעות ספריית ‪ Plotly‬כדי לאפשר זום וכלי עזר‪.‬‬
   ‫הסבר מילולי‪ :‬הטקסט שהוכן על‪-‬ידי סוכן הקונסולידציה – למשל‪“ :‬המניה זוהתה בשל פריצת מחיר ‪ +‬תוצאות‬               ‫•‬
                              ‫עסקיות חזקות ‪ +‬באזז חיובי ברשת” ‪ . 149 148‬זה נותן למשתמש הבנה תמציתית‪.‬‬
  ‫פירוט ציונים ונתונים‪ :‬הצגה ויזואלית או רשימת ‪ Bullet‬של הגורמים‪ .‬למשל תרשים עוגה קטן של משקל הציון‬             ‫•‬
 ‫מכל סוכן (‪ )T/F/S/N/D‬או רשימה של “‪ ”Bullet points‬עם הסימנים הבולטים‪ RSI +“ :‬יצא ממצב מכירת יתר”‪+“ ,‬‬
     ‫נפח מסחר יומי פי ‪ 5‬מהממוצע”‪ -“ ,‬שורט גבוה ‪ ”25%‬וכו’ ‪ . 151 150‬כך המשתמש יכול להבין בדיוק מה עומד‬
                                                                                     ‫מאחורי ההמלצה‪.‬‬

‫קישורי עזר ‪ :‬כפתור “עוד מידע” שפותח בטאב חדש את עמוד ‪ Yahoo Finance‬של המניה‪ ,‬כפתור לניתוח טכני‬                  ‫•‬
                                                                  ‫מורחב (אולי לקוח חיצוני)‪ ,‬וכו’‪.‬‬


‫מסך הגדרות והתאמות (‪ :)Settings‬מסך שבו המשתמש יכול לשלוט בפרמטרים עיקריים‪ .‬למשל‪ :‬בחירת‬                          ‫•‬
‫תדירות הסריקה (יומי‪ ,‬שבועי‪ ,‬חודשי) ושעות ריצה ‪ , 152‬הפעלה‪/‬כיבוי של ניטור חי ‪ +‬הגדרת ספי ההתראה (כמו‬
‫“התרע אם עולה ביותר מ‪ 10%-‬ב‪ 60-‬דקות” – עם אפשרות לערוך את המספרים) ‪ , 153 75‬בחירת ‪Universe‬‬
‫(למשל לסמן אם רוצים לסרוק רק ‪ S&P500‬או גם מניות קטנות)‪ ,‬קביעת משקולות לציון הסופי (למשתמש‬
‫המתקדם שיכול לשנות – נניח להגדיל משקל פונדמנטלי אם הוא יותר מאמין בו)‪ ,‬הגדרת כתובות ‪ Email‬לקבלת‬




                                                     ‫‪14‬‬
‫התראות‪ ,‬מפתחות ‪ API‬אם יש צורך להזין‪ ,‬ועוד‪ .‬הגדרות אלו יכתבו ל‪ config-‬וישפיעו מיידית (או בהרצת‬
                                                                                 ‫הסריקה הבאה)‪.‬‬


‫מסך גרפים‪/‬ניתוחים (אופציונלי)‪ :‬יתכן מסך נוסף להצגת ניתוחים היסטוריים – למשל גרף הצלחות המערכת‬                 ‫•‬
‫לאורך זמן (‪ ,)Precision/Recall‬מניות שזוהו בעבר ומה עשו בפועל (ניתוח רטרוספקטיבי לצרכי שקיפות)‪ ,‬או‬
‫כלים אינטראקטיביים לבדיקה עצמית (למשל המשתמש יכול להזין סימול ולבדוק מה הציונים היו לו בכל זמן)‪ .‬זהו‬
                                                                ‫פיצ’ר שאינו הכרחי ל‪ MVP-‬אך יכול להוסיף‪.‬‬


‫הממשק בכללו ישים דגש על פשטות ‪ :‬צבעים עדינים‪ ,‬אייקונים מוסכמים‪ ,‬וטקסטים תמציתיים‪ .‬למשל‪ ,‬בדאשבורד יוצגו ‪3‬‬
‫ההמלצות המובילות בכרטיסים עם רקע ירקרק (נותן תחושה חיובית) למניות ‪:Responsiveness . 155 154 Buy‬‬
                      ‫הממשק יותאם גם לטאבלט ואפילו מובייל (אולי גרסה מצומצמת או אפליקציה ייעודית בעתיד)‪.‬‬


                                                                           ‫ג‪ .‬תשתיות ופריסה (‪:)Deployment‬‬
‫בתצורת ‪ ,Production‬המערכת יכולה לרוץ על שרת ייעודי (‪ )on-premise‬או בענן‪ .‬עבור ‪ MVP‬ראשוני‪ ,‬ניתן להפעילה‬
‫במחשב מקומי של המשתמש (למשל כריצה דרך ‪ )Cursor/VSCode‬כאשר הממשק בדפדפן מקומי‪ .‬אך בעתיד‪ ,‬כדי‬
‫לאפשר ‪ 24/7‬ניטור חי ‪ ,‬רצוי פריסה לשרת ענן (למשל ‪ AWS Lightsail‬או ‪ .)Heroku‬רכיבי המערכת יכולים להיות מוקצי‬
‫תהליכים נפרדים ‪ :‬למשל‪ ,‬תהליך רקע להרצת ה‪( scheduler-‬שמבצע סריקות וניתורים)‪ ,‬ותהליך ‪ Flask/Streamlit‬נפרד‬
‫לשרת ה‪ .Web UI-‬ניתן גם להריץ כמספר ‪ – microservices‬אך כנראה אין צורך‪ ,‬מערכת זו אינה כבדה מאד‪ .‬חשוב‬
‫לשקול שימוש ב‪ DB-‬ענני אם כמות הנתונים גדלה (למשל מעבר ל‪ PostgreSQL-‬עבור חוות הנתונים במקום ‪,SQLite‬‬
                                                                                            ‫כשיעלה הנפח)‪.‬‬


‫התשתית תכלול גם מנגנוני ‪ Log‬ו‪ : Monitoring-‬המערכת תרשום לוגים (במיוחד של פעולות ‪ ,scheduler‬תוצאות‬
                  ‫סריקה‪ ,‬שגיאות ‪ )API‬לקובצי ‪ log‬או לשירות כמו ‪ ,CloudWatch‬כדי שמפתחים יוכלו לנטר ולשפר‪.‬‬


                                                          ‫ד‪ .‬תהליך העבודה בפיתוח (‪:)Python + Cursor‬‬
 ‫הפיתוח יתבצע בשפת ‪ Python‬בסביבת פיתוח נוחה (כגון ‪ Cursor‬או ‪ )VSCode‬התומכת בהרצת הקוד ו‪.Debug-‬‬
‫המפתחים ייצמדו למבנה המודולרי – כך שניתן לעבוד במקביל על סוכנים שונים‪ .‬למשל‪ ,‬מפתח אחד יכול לעבוד על‬
 ‫‪( agent_technical.py‬כיוונון אלגוריתמים) בעוד אחר עובד על ‪ . agent_news.py‬בעזרת כלי ‪ AI‬אוטומטיים‬
                                                 ‫(כמו ה‪ Copilot-‬המשולב ב‪ )Cursor-‬אפשר לזרז כתיבת קוד שגרתי‪.‬‬


‫יוגדר ‪ Pipeline‬להרצה ובדיקה ‪ :‬למשל סקריפט קטן שיריץ את ‪ main.py‬במצב מבחן (עם טיקר או שניים) לראות‬
‫שהכל מתחבר‪ .‬בדיקות אוטומטיות (‪ )CI‬יכולות להריץ סריקה על רשימת טסט קטנה לוודא שאין ‪ .Exceptions‬בעת‬
‫פיתוח‪ ,‬נשתמש ב‪ Cursor/IDE-‬כדי לנווט בין המודולים בקלות (‪ Cursor‬מאפשר קפיצה להגדרת פונקציה וכד’)‪ ,‬וכן‬
                                     ‫לתיעוד פנימי (‪ )docstrings‬כדי שמי שיעבוד על הקוד אחר כך יבין במהירות‪.‬‬


                                                                              ‫ה‪ .‬תפעול המערכת בפרודקשן‪:‬‬
‫במצב ‪ ,production‬המערכת רצה באופן אוטונומי לפי הגדרות‪ .‬המשתמש הקצה (נניח אנליסט‪/‬משקיע שקיבל גישה‬
‫לכלי) פשוט יפתח את הממשק לצפות בתוצאות‪ ,‬או יקבל מיילים בזמן אמת‪ .‬מבחינת תחזוקה‪ ,‬יש לוודא לעדכן מפתחות‬
‫‪ API‬תקופתית‪ ,‬לבדוק לוגים לשגיאות (למשל אם ‪ API‬מסוים נכשל – אולי להחליפו)‪ .‬אחת למספר חודשים מומלץ לכוונן‬
‫את הפרמטרים ‪ :‬למשל‪ ,‬אם מציפים מדי בהתראות – להעלות ספים‪ ,‬או אם פספסנו הזדמנויות – אולי להפחית‪ .‬המערכת‬
‫יכולה ללמוד עם הזמן‪ :‬ניתן לבצע ‪ Backtesting‬על נתונים היסטוריים מהחווה כדי לכייל את המשקולות והספים כך‬
‫שהיו מתפוסים יותר “כוכבי‪-‬על” בעבר עם פחות התרעות שווא ‪ . 157 156‬למשל‪ ,‬להריץ את המערכת היסטורית על שנת‬
                                               ‫‪ 2021‬ולראות אילו מניות היא המליצה והאם אכן זינקו‪ ,‬ואז לשפר‪.‬‬


‫בסיום הפיתוח‪ ,‬המערכת תהיה כלי עזר רב‪-‬עוצמה למשקיע‪ :‬היא תסרוק אלפי מניות מאחורי הקלעים‪ ,‬תתריע בזמן‬
‫אמת על הזדמנויות נדירות‪ ,‬ותציג בממשק נוח את כל המידע הדרוש – החל מציוני ניתוח ועד גרפים והסברים‪ .‬בכך היא‬
‫תממש את חזונה‪ :‬לזהות מראש את המניות שעומדות להפוך ל”סיפור הצלחה” הבא ‪ ,‬ולספק למשתמש את הביטחון‬
‫לפעול בזמן הנכון‪ ,‬עם ביסוס רחב מכל כיווני הניתוח ‪ . 157 158‬המערכת בנויה להתרחב ולהשתפר – עם תוספת נתונים‬
‫וסוכנים – כך שתמשיך להשתכלל ולספק תובנות מדויקות יותר ככל שיצטבר ניסיון (בדומה למשקיע אנושי שלומד‬
                                                                                        ‫ומשתפר) ‪. 157 159‬‬




                                                     ‫‪15‬‬
                                                                                                                                                .)‫בהצלחה! (סיום הדו"ח‬



      ‫מערכת חיזוי מניות פורצות – מסמך אפיון‬                           65     64    63   27    26    17    15     14    13     12     11    10     6      5      4     3     1

                                                                                                                                                               pdf.‫מפורט‬
                                                                            https://drive.google.com/file/d/12r_EJSXSpJX84-1x0Tz6Dohici8Xs7G9

                         txt.)1( ‫ ויותר במניות‬1000% ‫ניתוח מעמיק_ זיהוי סימנים מוקדמים לפני זינוקים של‬                                                   49      9     8     2

                                                                     https://drive.google.com/file/d/1z8CKQTrm7XZCWRxsupjhwb69hzH530n8

                         txt.‫מערכת רב־סוכנים לחיזוי מניות פורצות – ניתוח טכני מקיף‬                                     99     98     97    96     95    94     93     92    7

                                                                      https://drive.google.com/file/d/15HIvx4Y5-opGoAaZxpM7rUtA_CwkpXPF

59     58    57     56    55     54     53   52     51    50    48    47     46    45   44    43    42    41     40    39     38     37    36     35    28     25     24   16

  106    105      104    103   102    101    100    90    89    82    81     78    77   76    75    74    73     72    71     70     69    68     67    66     62     61   60

     ‫מערכת חיזוי מניות פורצות – מפרט טכני‬                            153    123   122   121   120   117   116    115    114    113       112    111    110    109    108   107

                                                                                                                                                             txt.)1( ‫מפורט‬
                                                                     https://drive.google.com/file/d/1SGuF-d3RcsGWD18GNVPCoJ0ISLAy2Q-A

             txt.)2025–2000( ‫סימנים מוקדמים לעליות חדות במניות‬                                      34    33     32    31     30     29    23     22    21     20     19   18

                                                                           https://drive.google.com/file/d/1s5_aAO0PqY0ge9hikbaGSJnpAItO5xXl

147    146   145    144    143    142    141      140    139   138   137    136   135   134   133   132    131    130   129        128    127    126   125     124    80   79

                                               txt.‫מערכת חיזוי מניות פורצות – מסמך אפיון מפורט‬                                 155       154    152    151    150    149   148

                                                                           https://drive.google.com/file/d/1J52_jfPUNkih4YNfRcJqq6Pdh2c_awq5

                                                    pdf.)1( ‫מערכת חיזוי מניות פורצות – מפרט טכני מפורט‬                                    119    118    86     85     84   83

                                                                                                                      file://file-ScmAHFuPKxTP1KWccWnU9Y

                                 pdf.‫מערכת רב־סוכנים לחיזוי מניות פורצות – ניתוח טכני מקיף‬                                         159    158    157    156    91     88   87

                                                                                                                       file://file-KKmKoq6SyLHNEv4My6Jo8d




                                                                                    16
